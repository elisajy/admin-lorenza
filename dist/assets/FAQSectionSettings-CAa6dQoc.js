import{l as v,a as s,n as Q,p as z,q as t,B as E}from"./index-DjhjgXs3.js";import{F as P,C as c,S as k}from"./Table-DvR3ObBF.js";import{C as j}from"./ConfirmationDialog-B5mGHD-5.js";import"./useForceUpdate-Cjrk0ddK.js";import"./Dropdown-BOgXC6sa.js";import"./index-Cxjwi2K_.js";import"./Skeleton-CSgj4YNl.js";const K=()=>{const o=v(),[S,a]=s.useState(!1),[i,h]=s.useState({title:"",message:"",buttonText:"",action:()=>{}}),[f,m]=s.useState([]),{setSuccessNotification:C,setErrorNotification:N}=Q(),[p,L]=s.useState(0),b=z(),A=new URLSearchParams(b.search),r=Number(A.get("page"))||1,[x,l]=s.useState({current:r,pageSize:10}),F=e=>{l(e),o(`?page=${e.current}`)};s.useEffect(()=>{l(e=>({...e,current:r}))},[r]);const g=(e,n)=>{e==="edit"&&o(`/faq-section-settings/edit/${n.key}`),e==="add"&&o("/faq-section-settings/add")};s.useEffect(()=>{d()},[p]);const d=()=>{m([]);try{fetch("https://bo-api.lorenzaceramica.com/all-faq-sections",{method:"GET",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},cache:"no-store"}).then(e=>e.json()).then(e=>{const n=e.length>0?e.map(u=>({...u,key:u.id})):[];m([...n])})}catch(e){console.error("Error fetching FAQ sections:",e)}},D=e=>{a(!0),h({title:"Confirm Submission?",message:"This action will delete selected record(s).",buttonText:"Confirm",action:async()=>{fetch(`https://bo-api.lorenzaceramica.com/delete-faq-section/${e.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})}).then(async n=>{n.status===204&&(C("Delete Successful!"),await d())}).catch(n=>{console.log("Delete FAQ Section error:",n),N("Delete Failed. Please try again later.")}),a(!1)}})};return t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"form-button-container",children:[t.jsxDEV("div",{children:t.jsxDEV("h2",{children:"FAQ Section Settings"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:104,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:103,columnNumber:17},void 0),t.jsxDEV("div",{children:t.jsxDEV(E,{type:"primary",className:"form-button",onClick:()=>g("add"),children:"Add"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:107,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:102,columnNumber:13},void 0),t.jsxDEV(j,{showModal:S,title:i.title,confirmationMessage:i.message,setShowModal:a,action:i.action,actionText:i.buttonText},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:110,columnNumber:13},void 0),t.jsxDEV("div",{children:t.jsxDEV(P,{dataSource:f,pagination:x,onChange:F,rowKey:"id",children:[t.jsxDEV(c,{title:"Type",dataIndex:"name"},"name",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:119,columnNumber:21},void 0),t.jsxDEV(c,{title:"Updated At",dataIndex:"updatedAt"},"updatedAt",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:120,columnNumber:21},void 0),t.jsxDEV(c,{title:"Action",render:(e,n)=>t.jsxDEV(k,{size:"middle",children:[t.jsxDEV("a",{onClick:()=>g("edit",n),children:"Edit"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:126,columnNumber:33},void 0),t.jsxDEV("a",{onClick:()=>D(n),children:"Delete"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:127,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:125,columnNumber:29},void 0)},"action",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:121,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:115,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:114,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/FAQSettings/FAQSectionSettings.tsx",lineNumber:101,columnNumber:9},void 0)};export{K as default};
