import{l as h,F as u,n as j,N as D,a as r,p as s,B as c}from"./index-CPbxhxza.js";import{P,h as y}from"./PreviewImage-CT-hHf1r.js";import{f as C,U as g}from"./FormItems-CZB0pGsz.js";import{C as S}from"./index-CW7yHjTx.js";import"./index-D77H72mO.js";import"./Skeleton-B1X6PIwQ.js";import"./useForceUpdate-CLQGaRN1.js";import"./index-UnQfHaHI.js";import"./Dropdown-DlAGImVC.js";const _=()=>{const d="Modify About Us Image",i=h(),[a]=u.useForm(),{setSuccessNotification:b,setErrorNotification:t}=j(),n="lc-admin-at",[N,z,O]=D([n]),[p,U]=r.useState(),[f,m]=r.useState({previewVisible:!1,previewImage:"",previewTitle:""});r.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/about-us",{headers:{Authorization:`Bearer ${N[n]}`}}).then(e=>e.json()).then(e=>{a.setFieldsValue({image:[{uid:"-2",status:"done",url:e[5].content,name:"image_aboutus"}]})})},[]);const v=e=>e.type==="image/jpeg"||e.type==="image/png"?e.size>1e6?(t("Image file size is more than 1MB. Please try a smaller size file."),g.LIST_IGNORE):!1:(t("Only .jpg, .jpeg and .png image file format are accepted!"),g.LIST_IGNORE),A=e=>Array.isArray(e)?e:(U(e.file),e&&e.fileList),I=async e=>{e=await y(e),m({previewVisible:!0,previewImage:e.url||e.preview,previewTitle:e.name||e.url.substring(e.url.lastIndexOf("/")+1)})},x=async e=>{const l=new FormData;l.append("image",e),fetch("https://bo-api.lorenzaceramica.com/modify-about-us-image/6",{method:"POST",body:l}).then(async o=>{o.status===201&&(b("Upload Image Successful!"),i("/"))}).catch(o=>{console.log("Upload Partner error:",o),t("Upload Partner Failed. Please try again later.")})},E=async()=>{const e=a.getFieldsValue();if(e.image===void 0||e.image&&e.image.length===0)return t("Please ensure that image is uploaded.");await x(p)};return s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{style:{textAlign:"left"},children:[s.jsxDEV("h2",{children:d},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:112,columnNumber:17},void 0),s.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:113,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:111,columnNumber:13},void 0),s.jsxDEV(S,{title:"About Us Image",className:"form-card-container",children:s.jsxDEV("div",{className:"form-container",children:s.jsxDEV("div",{className:"form-wrap",children:s.jsxDEV(u,{layout:"vertical",form:a,className:"form-box",children:C("image","About Us Image",A,I,v,!1)},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:118,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:117,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:116,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:115,columnNumber:13},void 0),s.jsxDEV("div",{className:"form-action-button-container",children:[s.jsxDEV(c,{type:"primary",className:"form-button",onClick:E,children:"Save"},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:128,columnNumber:17},void 0),s.jsxDEV(c,{className:"form-button",onClick:()=>i("/"),children:"Cancel"},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:129,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:127,columnNumber:13},void 0),s.jsxDEV(P,{displayImg:f,setDisplayImg:m},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:131,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:110,columnNumber:9},void 0)};export{_ as default};
