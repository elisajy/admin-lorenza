import{g as Z,r as ee,u as H,m as oe,T as re,a,C as M,c as T,b as R,d as te,o as ne,e as se,i as ae,W as ie,f as ce,h as le,j as de,k as ue,l as n,B as F}from"./index-B2xPJyjb.js";import{F as me,C as y,S as ge}from"./Table-CUSRygqi.js";import{C as Ce}from"./ConfirmationDialog-8BR5dFi_.js";import{u as pe,p as A}from"./index-BhylLv_O.js";import"./useForceUpdate-DBCnMcBO.js";import"./Dropdown-Bj8-fGCB.js";import"./Skeleton-DHXim5Dc.js";const he=e=>{const{paddingXXS:t,lineWidth:s,tagPaddingHorizontal:o,componentCls:r,calc:u}=e,c=u(o).sub(s).equal(),b=u(t).sub(s).equal();return{[r]:Object.assign(Object.assign({},ee(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:c,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${H(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${r}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${r}-close-icon`]:{marginInlineStart:b,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${r}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${r}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:c}}),[`${r}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},k=e=>{const{lineWidth:t,fontSizeIcon:s,calc:o}=e,r=e.fontSizeSM;return oe(e,{tagFontSize:r,tagLineHeight:H(o(e.lineHeightSM).mul(r).equal()),tagIconSize:o(s).sub(o(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},O=e=>({defaultBg:new re(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),W=Z("Tag",e=>{const t=k(e);return he(t)},O);var fe=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(s[o[r]]=e[o[r]]);return s};const be=a.forwardRef((e,t)=>{const{prefixCls:s,style:o,className:r,checked:u,onChange:c,onClick:b}=e,g=fe(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:v,tag:C}=a.useContext(M),p=N=>{c==null||c(!u),b==null||b(N)},f=v("tag",s),[P,D,m]=W(f),z=T(f,`${f}-checkable`,{[`${f}-checkable-checked`]:u},C==null?void 0:C.className,r,D,m);return P(a.createElement("span",Object.assign({},g,{ref:t,style:Object.assign(Object.assign({},o),C==null?void 0:C.style),className:z,onClick:p})))}),ve=e=>te(e,(t,s)=>{let{textColor:o,lightBorderColor:r,lightColor:u,darkColor:c}=s;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:o,background:u,borderColor:r,"&-inverse":{color:e.colorTextLightSolid,background:c,borderColor:c},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Ne=R(["Tag","preset"],e=>{const t=k(e);return ve(t)},O);function Se(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const j=(e,t,s)=>{const o=Se(s);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${s}`],background:e[`color${o}Bg`],borderColor:e[`color${o}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},xe=R(["Tag","status"],e=>{const t=k(e);return[j(t,"success","Success"),j(t,"processing","Info"),j(t,"error","Error"),j(t,"warning","Warning")]},O);var ye=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(s[o[r]]=e[o[r]]);return s};const Pe=a.forwardRef((e,t)=>{const{prefixCls:s,className:o,rootClassName:r,style:u,children:c,icon:b,color:g,onClose:v,bordered:C=!0,visible:p}=e,f=ye(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:P,direction:D,tag:m}=a.useContext(M),[z,N]=a.useState(!0),l=ne(f,["closeIcon","closable"]);se("Tag").deprecated(!("visible"in e),"visible","visible && <Tag />"),a.useEffect(()=>{p!==void 0&&N(p)},[p]);const i=ae(g),h=ce(g),L=i||h,E=Object.assign(Object.assign({backgroundColor:g&&!L?g:void 0},m==null?void 0:m.style),u),d=P("tag",s),[_,K,q]=W(d),X=T(d,m==null?void 0:m.className,{[`${d}-${g}`]:L,[`${d}-has-color`]:g&&!L,[`${d}-hidden`]:!z,[`${d}-rtl`]:D==="rtl",[`${d}-borderless`]:!C},o,r,K,q),w=S=>{S.stopPropagation(),v==null||v(S),!S.defaultPrevented&&N(!1)},[,Q]=pe(A(e),A(m),{closable:!1,closeIconRender:S=>{const Y=a.createElement("span",{className:`${d}-close-icon`,onClick:w},S);return le(S,Y,x=>({onClick:B=>{var $;($=x==null?void 0:x.onClick)===null||$===void 0||$.call(x,B),w(B)},className:T(x==null?void 0:x.className,`${d}-close-icon`)}))}}),J=typeof f.onClick=="function"||c&&c.type==="a",U=b||null,G=U?a.createElement(a.Fragment,null,U,c&&a.createElement("span",null,c)):c,I=a.createElement("span",Object.assign({},l,{ref:t,className:X,style:E}),G,Q,i&&a.createElement(Ne,{key:"preset",prefixCls:d}),h&&a.createElement(xe,{key:"status",prefixCls:d}));return _(J?a.createElement(ie,{component:"Tag"},I):I)}),V=Pe;V.displayName="Tag";V.CheckableTag=be;const ke=()=>{const e=de(),[t,s]=a.useState(),[o,r]=a.useState(!1),{setSuccessNotification:u,setErrorNotification:c}=ue(),[b,g]=a.useState(0),[v,C]=a.useState([]),[p,f]=a.useState({title:"",message:"",buttonText:"",action:()=>{}}),P=(l,i)=>{l==="edit"&&e(`/product-listing/edit/${i.key}`),l==="add"&&e("/product-listing/add")},m={selectedRowKeys:v,onChange:l=>{C(l)}};a.useEffect(()=>{z()},[]);const z=()=>{fetch("https://bo-api.lorenzaceramica.com/all-products").then(l=>l.json()).then(l=>{const i=l.length>0?l.map(h=>{const L=h.categories.map(d=>d.name).join(" | "),E=h.tags.map(d=>d.name.toLowerCase());return{...h,key:h.id,category:L,tagList:E}}):[];s([...i])})},N=l=>{r(!0),f({title:"Confirm Submission?",message:"This action will delete selected record(s).",buttonText:"Confirm",action:async()=>{fetch(`https://bo-api.lorenzaceramica.com/delete-product/${l.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:l.id})}).then(async i=>{i.status===204&&(u("Delete Successful!"),await z())}).catch(i=>{console.log("Delete FAQ Section error:",i),c("Delete Failed. Please try again later.")}),r(!1),g(i=>i+1)}})};return n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"form-button-container",children:[n.jsxDEV("div",{children:n.jsxDEV("h2",{children:"Product Listing"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:91,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:90,columnNumber:17},void 0),n.jsxDEV("div",{children:[n.jsxDEV(F,{type:"primary",className:"form-button",onClick:()=>P("add"),children:"Add"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:94,columnNumber:21},void 0),n.jsxDEV(F,{type:"primary",danger:!0,className:"form-button",onClick:N,children:"Delete"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:95,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:93,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:89,columnNumber:13},void 0),n.jsxDEV(Ce,{showModal:o,title:p.title,confirmationMessage:p.message,setShowModal:r,action:p.action,actionText:p.buttonText},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:98,columnNumber:13},void 0),n.jsxDEV("div",{children:n.jsxDEV(me,{dataSource:t,rowSelection:m,rowKey:"id",children:[n.jsxDEV(y,{title:"Category",dataIndex:"category"},"category",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:107,columnNumber:21},void 0),n.jsxDEV(y,{title:"Name",dataIndex:"name"},"name",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:108,columnNumber:21},void 0),n.jsxDEV(y,{title:"Code",dataIndex:"code"},"code",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:109,columnNumber:21},void 0),n.jsxDEV(y,{title:"Size",dataIndex:"size"},"size",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:110,columnNumber:21},void 0),n.jsxDEV(y,{width:250,title:"Tags",dataIndex:"tagList",render:l=>n.jsxDEV(n.Fragment,{children:l.map(i=>{let h=i.length>5?"geekblue":"green";return i==="loser"&&(h="volcano"),n.jsxDEV(V,{color:h,children:i.toUpperCase()},i,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:124,columnNumber:41},void 0)})},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:117,columnNumber:29},void 0)},"tagList",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:111,columnNumber:21},void 0),n.jsxDEV(y,{title:"Updated At",dataIndex:"updatedAt"},"updatedAt",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:132,columnNumber:21},void 0),n.jsxDEV(y,{title:"Action",render:(l,i)=>n.jsxDEV(ge,{size:"middle",children:[n.jsxDEV("a",{onClick:()=>P("edit",i),children:"Edit"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:138,columnNumber:33},void 0),n.jsxDEV("a",{onClick:()=>N(i),children:"Delete"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:139,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:137,columnNumber:29},void 0)},"action",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:133,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:103,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:102,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/products/ProductListing.tsx",lineNumber:88,columnNumber:9},void 0)};export{ke as default};
