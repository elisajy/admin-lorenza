import{a as s,O as N,a2 as Ae,B as G,a3 as ue,R as p,a4 as Q,s as Le,t as ze,a5 as We,a6 as X,a7 as De,a8 as fe,C as D,e as U,a9 as de,aa as me,c as T,E as He,G as Ve,H as _e,ab as qe,I as W,b as Ge,ac as Qe,ad as Xe,ae as Ue,u as ee,af as Ce,ag as Ze,ah as Ye,ai as Je,aj as Ke,ak as en,al as nn,am as tn,an as on,ao as ln,ap as ge,aq as an,ar as sn,as as rn}from"./index-US9K7eiX.js";import{S as cn}from"./Skeleton-D57MXuDl.js";import{w as un}from"./useForceUpdate-t_T1H4u5.js";function fn(){const[e,t]=s.useState([]),l=s.useCallback(n=>(t(o=>[].concat(N(o),[n])),()=>{t(o=>o.filter(r=>r!==n))}),[]);return[e,l]}function _(e){return!!(e!=null&&e.then)}const be=e=>{const{type:t,children:l,prefixCls:n,buttonProps:o,close:r,autoFocus:m,emitEvent:f,isSilent:c,quitOnNullishReturnValue:i,actionFn:a}=e,u=s.useRef(!1),g=s.useRef(null),[v,O]=Ae(!1),d=function(){r==null||r.apply(void 0,arguments)};s.useEffect(()=>{let C=null;return m&&(C=setTimeout(()=>{var y;(y=g.current)===null||y===void 0||y.focus({preventScroll:!0})})),()=>{C&&clearTimeout(C)}},[]);const x=C=>{_(C)&&(O(!0),C.then(function(){O(!1,!0),d.apply(void 0,arguments),u.current=!1},y=>{if(O(!1,!0),u.current=!1,!(c!=null&&c()))return Promise.reject(y)}))},b=C=>{if(u.current)return;if(u.current=!0,!a){d();return}let y;if(f){if(y=a(C),i&&!_(y)){u.current=!1,d(C);return}}else if(a.length)y=a(r),u.current=!1;else if(y=a(),!_(y)){d();return}x(y)};return s.createElement(G,Object.assign({},ue(t),{onClick:b,loading:v,prefixCls:n},o,{ref:g}),l)},F=p.createContext({}),{Provider:ve}=F,ne=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:l,isSilent:n,mergedOkCancel:o,rootPrefixCls:r,close:m,onCancel:f,onConfirm:c}=s.useContext(F);return o?p.createElement(be,{isSilent:n,actionFn:f,close:function(){m==null||m.apply(void 0,arguments),c==null||c(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${r}-btn`},l):null},te=()=>{const{autoFocusButton:e,close:t,isSilent:l,okButtonProps:n,rootPrefixCls:o,okTextLocale:r,okType:m,onConfirm:f,onOk:c}=s.useContext(F);return p.createElement(be,{isSilent:l,type:m||"primary",actionFn:c,close:function(){t==null||t.apply(void 0,arguments),f==null||f(!0)},autoFocus:e==="ok",buttonProps:n,prefixCls:`${o}-btn`},r)};function oe(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function le(e){const{closable:t,closeIcon:l}=e||{};return p.useMemo(()=>{if(!t&&(t===!1||l===!1||l===null))return!1;if(t===void 0&&l===void 0)return null;let n={closeIcon:typeof l!="boolean"&&l!==null?l:void 0};return t&&typeof t=="object"&&(n=Object.assign(Object.assign({},n),t)),n},[t,l])}function ae(){const e={};for(var t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return l.forEach(o=>{o&&Object.keys(o).forEach(r=>{o[r]!==void 0&&(e[r]=o[r])})}),e}const dn={};function mn(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dn;const n=le(e),o=le(t),r=typeof n!="boolean"?!!(n!=null&&n.disabled):!1,m=p.useMemo(()=>Object.assign({closeIcon:p.createElement(Q,null)},l),[l]),f=p.useMemo(()=>n===!1?!1:n?ae(m,o,n):o===!1?!1:o?ae(m,o):m.closable?m:!1,[n,o,m]);return p.useMemo(()=>{if(f===!1)return[!1,null,r];const{closeIconRender:c}=m,{closeIcon:i}=f;let a=i;if(a!=null){c&&(a=c(i));const u=Le(f,!0);Object.keys(u).length&&(a=p.isValidElement(a)?p.cloneElement(a,u):p.createElement("span",Object.assign({},u),a))}return[!0,a,r]},[f,m])}const Cn=()=>ze()&&window.document.documentElement;function se(){}const gn=s.createContext({add:se,remove:se});function bn(e){const t=s.useContext(gn),l=s.useRef();return We(o=>{if(o){const r=e?o.querySelector(e):o;t.add(r),l.current=r}else t.remove(l.current)})}const re=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:l}=s.useContext(F);return p.createElement(G,Object.assign({onClick:l},e),t)},ce=()=>{const{confirmLoading:e,okButtonProps:t,okType:l,okTextLocale:n,onOk:o}=s.useContext(F);return p.createElement(G,Object.assign({},ue(l),{loading:e,onClick:o},t),n)};function pe(e,t){return p.createElement("span",{className:`${e}-close-x`},t||p.createElement(Q,{className:`${e}-close-icon`}))}const xe=e=>{const{okText:t,okType:l="primary",cancelText:n,confirmLoading:o,onOk:r,onCancel:m,okButtonProps:f,cancelButtonProps:c,footer:i}=e,[a]=X("Modal",fe()),u=t||(a==null?void 0:a.okText),g=n||(a==null?void 0:a.cancelText),v={confirmLoading:o,okButtonProps:f,cancelButtonProps:c,okTextLocale:u,cancelTextLocale:g,okType:l,onOk:r,onCancel:m},O=p.useMemo(()=>v,N(Object.values(v)));let d;return typeof i=="function"||typeof i>"u"?(d=p.createElement(p.Fragment,null,p.createElement(re,null),p.createElement(ce,null)),typeof i=="function"&&(d=i(d,{OkBtn:ce,CancelBtn:re})),d=p.createElement(ve,{value:O},d)):d=i,p.createElement(De,{disabled:!1},d)};var vn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};let q;const pn=e=>{q={x:e.pageX,y:e.pageY},setTimeout(()=>{q=null},100)};Cn()&&document.documentElement.addEventListener("click",pn,!0);const ye=e=>{var t;const{getPopupContainer:l,getPrefixCls:n,direction:o,modal:r}=s.useContext(D),m=k=>{const{onCancel:w}=e;w==null||w(k)},f=k=>{const{onOk:w}=e;w==null||w(k)};{const k=U("Modal");[["visible","open"],["bodyStyle","styles.body"],["maskStyle","styles.mask"]].forEach(w=>{let[K,Be]=w;k.deprecated(!(K in e),K,Be)})}const{prefixCls:c,className:i,rootClassName:a,open:u,wrapClassName:g,centered:v,getContainer:O,focusTriggerAfterClose:d=!0,style:x,visible:b,width:C=520,footer:y,classNames:h,styles:P,children:S,loading:I}=e,j=vn(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),E=n("modal",c),R=n(),A=de(E),[H,L,z]=me(E,A),V=T(g,{[`${E}-centered`]:!!v,[`${E}-wrap-rtl`]:o==="rtl"}),Se=y!==null&&!I?s.createElement(xe,Object.assign({},e,{onOk:f,onCancel:m})):null,[Y,J,ke]=mn(oe(e),oe(r),{closable:!0,closeIcon:s.createElement(Q,{className:`${E}-close-icon`}),closeIconRender:k=>pe(E,k)}),Me=bn(`.${E}-content`),[Re,Fe]=He("Modal",j.zIndex);return H(s.createElement(Ve,{form:!0,space:!0},s.createElement(_e.Provider,{value:Fe},s.createElement(qe,Object.assign({width:C},j,{zIndex:Re,getContainer:O===void 0?l:O,prefixCls:E,rootClassName:T(L,a,z,A),footer:Se,visible:u??b,mousePosition:(t=j.mousePosition)!==null&&t!==void 0?t:q,onClose:m,closable:Y&&{disabled:ke,closeIcon:J},closeIcon:J,focusTriggerAfterClose:d,transitionName:W(R,"zoom",e.transitionName),maskTransitionName:W(R,"fade",e.maskTransitionName),className:T(L,i,r==null?void 0:r.className),style:Object.assign(Object.assign({},r==null?void 0:r.style),x),classNames:Object.assign(Object.assign(Object.assign({},r==null?void 0:r.classNames),h),{wrapper:T(V,h==null?void 0:h.wrapper)}),styles:Object.assign(Object.assign({},r==null?void 0:r.styles),P),panelRef:Me}),I?s.createElement(cn,{active:!0,title:!1,paragraph:{rows:4},className:`${E}-body-skeleton`}):S))))},xn=e=>{const{componentCls:t,titleFontSize:l,titleLineHeight:n,modalConfirmIconSize:o,fontSize:r,lineHeight:m,modalTitleHeight:f,fontHeight:c,confirmBodyPadding:i}=e,a=`${t}-confirm`;return{[a]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${a}-body-wrapper`]:Object.assign({},Ue()),[`&${t} ${t}-body`]:{padding:i},[`${a}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(f).sub(o).equal()).div(2).equal()}},[`${a}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${ee(e.marginSM)})`},[`${e.iconCls} + ${a}-paragraph`]:{maxWidth:`calc(100% - ${ee(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${a}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:l,lineHeight:n},[`${a}-content`]:{color:e.colorText,fontSize:r,lineHeight:m},[`${a}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${a}-error ${a}-body > ${e.iconCls}`]:{color:e.colorError},[`${a}-warning ${a}-body > ${e.iconCls},
        ${a}-confirm ${a}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${a}-info ${a}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${a}-success ${a}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},yn=Ge(["Modal","confirm"],e=>{const t=Qe(e);return[xn(t)]},Xe,{order:-1e3});var On=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};function Oe(e){const{prefixCls:t,icon:l,okText:n,cancelText:o,confirmPrefixCls:r,type:m,okCancel:f,footer:c,locale:i}=e,a=On(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);U("Modal")(!(typeof l=="string"&&l.length>2),"breaking",`\`icon\` is using ReactNode instead of string naming in v4. Please check \`${l}\` at https://ant.design/components/icon`);let u=l;if(!l&&l!==null)switch(m){case"info":u=s.createElement(Ke,null);break;case"success":u=s.createElement(Je,null);break;case"error":u=s.createElement(Ye,null);break;default:u=s.createElement(Ze,null)}const g=f??m==="confirm",v=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[O]=X("Modal"),d=i||O,x=n||(g?d==null?void 0:d.okText:d==null?void 0:d.justOkText),b=o||(d==null?void 0:d.cancelText),C=Object.assign({autoFocusButton:v,cancelTextLocale:b,okTextLocale:x,mergedOkCancel:g},a),y=s.useMemo(()=>C,N(Object.values(C))),h=s.createElement(s.Fragment,null,s.createElement(ne,null),s.createElement(te,null)),P=e.title!==void 0&&e.title!==null,S=`${r}-body`;return s.createElement("div",{className:`${r}-body-wrapper`},s.createElement("div",{className:T(S,{[`${S}-has-title`]:P})},u,s.createElement("div",{className:`${r}-paragraph`},P&&s.createElement("span",{className:`${r}-title`},e.title),s.createElement("div",{className:`${r}-content`},e.content))),c===void 0||typeof c=="function"?s.createElement(ve,{value:y},s.createElement("div",{className:`${r}-btns`},typeof c=="function"?c(h,{OkBtn:te,CancelBtn:ne}):h)):c,s.createElement(yn,{prefixCls:t}))}const he=e=>{const{close:t,zIndex:l,afterClose:n,open:o,keyboard:r,centered:m,getContainer:f,maskStyle:c,direction:i,prefixCls:a,wrapClassName:u,rootPrefixCls:g,bodyStyle:v,closable:O=!1,closeIcon:d,modalRender:x,focusTriggerAfterClose:b,onConfirm:C,styles:y}=e;{const H=U("Modal");[["visible","open"],["bodyStyle","styles.body"],["maskStyle","styles.mask"]].forEach(L=>{let[z,V]=L;H.deprecated(!(z in e),z,V)})}const h=`${a}-confirm`,P=e.width||416,S=e.style||{},I=e.mask===void 0?!0:e.mask,j=e.maskClosable===void 0?!1:e.maskClosable,E=T(h,`${h}-${e.type}`,{[`${h}-rtl`]:i==="rtl"},e.className),[,R]=en(),A=s.useMemo(()=>l!==void 0?l:R.zIndexPopupBase+nn,[l,R]);return s.createElement(ye,{prefixCls:a,className:E,wrapClassName:T({[`${h}-centered`]:!!e.centered},u),onCancel:()=>{t==null||t({triggerCancel:!0}),C==null||C(!1)},open:o,title:"",footer:null,transitionName:W(g||"","zoom",e.transitionName),maskTransitionName:W(g||"","fade",e.maskTransitionName),mask:I,maskClosable:j,style:S,styles:Object.assign({body:v,mask:c},y),width:P,zIndex:A,afterClose:n,keyboard:r,centered:m,getContainer:f,closable:O,closeIcon:d,modalRender:x,focusTriggerAfterClose:b},s.createElement(Oe,Object.assign({},e,{confirmPrefixCls:h})))},Z=e=>{const{rootPrefixCls:t,iconPrefixCls:l,direction:n,theme:o}=e;return s.createElement(Ce,{prefixCls:t,iconPrefixCls:l,direction:n,theme:o},s.createElement(he,Object.assign({},e)))};he.displayName="ConfirmDialog",Z.displayName="ConfirmDialogWrapper";const M=[];let Pe="";function Ee(){return Pe}const hn=e=>{var t,l;const{prefixCls:n,getContainer:o,direction:r}=e,m=fe(),f=s.useContext(D),c=Ee()||f.getPrefixCls(),i=n||`${c}-modal`;let a=o;return a===!1&&(a=void 0,ge(!1,"Modal","Static method not support `getContainer` to be `false` since it do not have context env.")),p.createElement(Z,Object.assign({},e,{rootPrefixCls:c,prefixCls:i,iconPrefixCls:f.iconPrefixCls,theme:f.theme,direction:r??f.direction,locale:(l=(t=f.locale)===null||t===void 0?void 0:t.Modal)!==null&&l!==void 0?l:m,getContainer:a}))};function B(e){const t=an();t.holderRender||tn("Modal");const l=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:f,open:!0}),o;function r(){for(var i,a=arguments.length,u=new Array(a),g=0;g<a;g++)u[g]=arguments[g];if(u.some(d=>d==null?void 0:d.triggerCancel)){var O;(i=e.onCancel)===null||i===void 0||(O=i).call.apply(O,[e,()=>{}].concat(N(u.slice(1))))}for(let d=0;d<M.length;d++)if(M[d]===f){M.splice(d,1);break}on(l)}function m(i){clearTimeout(o),o=setTimeout(()=>{const a=t.getPrefixCls(void 0,Ee()),u=t.getIconPrefixCls(),g=t.getTheme(),v=p.createElement(hn,Object.assign({},i));ln(p.createElement(Ce,{prefixCls:a,iconPrefixCls:u,theme:g},t.holderRender?t.holderRender(v):v),l)})}function f(){for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),r.apply(this,a)}}),n.visible&&delete n.visible,m(n)}function c(i){typeof i=="function"?n=i(n):n=Object.assign(Object.assign({},n),i),m(n)}return m(n),M.push(f),{destroy:f,update:c}}function $e(e){return Object.assign(Object.assign({},e),{type:"warning"})}function je(e){return Object.assign(Object.assign({},e),{type:"info"})}function we(e){return Object.assign(Object.assign({},e),{type:"success"})}function Ie(e){return Object.assign(Object.assign({},e),{type:"error"})}function Te(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Pn(e){let{rootPrefixCls:t}=e;ge(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),Pe=t}var En=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const $n=(e,t)=>{var l,{afterClose:n,config:o}=e,r=En(e,["afterClose","config"]);const[m,f]=s.useState(!0),[c,i]=s.useState(o),{direction:a,getPrefixCls:u}=s.useContext(D),g=u("modal"),v=u(),O=()=>{var C;n(),(C=c.afterClose)===null||C===void 0||C.call(c)},d=function(){var C;f(!1);for(var y=arguments.length,h=new Array(y),P=0;P<y;P++)h[P]=arguments[P];if(h.some(j=>j==null?void 0:j.triggerCancel)){var I;(C=c.onCancel)===null||C===void 0||(I=C).call.apply(I,[c,()=>{}].concat(N(h.slice(1))))}};s.useImperativeHandle(t,()=>({destroy:d,update:C=>{i(y=>Object.assign(Object.assign({},y),C))}}));const x=(l=c.okCancel)!==null&&l!==void 0?l:c.type==="confirm",[b]=X("Modal",sn.Modal);return s.createElement(Z,Object.assign({prefixCls:g,rootPrefixCls:v},c,{close:d,open:m,afterClose:O,okText:c.okText||(x?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:c.direction||a,cancelText:c.cancelText||(b==null?void 0:b.cancelText)},r))},jn=s.forwardRef($n);let ie=0;const wn=s.memo(s.forwardRef((e,t)=>{const[l,n]=fn();return s.useImperativeHandle(t,()=>({patchElement:n}),[]),s.createElement(s.Fragment,null,l)}));function In(){const e=s.useRef(null),[t,l]=s.useState([]);s.useEffect(()=>{t.length&&(N(t).forEach(m=>{m()}),l([]))},[t]);const n=s.useCallback(r=>function(f){var c;ie+=1;const i=s.createRef();let a;const u=new Promise(x=>{a=x});let g=!1,v;const O=s.createElement(jn,{key:`modal-${ie}`,config:r(f),ref:i,afterClose:()=>{v==null||v()},isSilent:()=>g,onConfirm:x=>{a(x)}});return v=(c=e.current)===null||c===void 0?void 0:c.patchElement(O),v&&M.push(v),{destroy:()=>{function x(){var b;(b=i.current)===null||b===void 0||b.destroy()}i.current?x():l(b=>[].concat(N(b),[x]))},update:x=>{function b(){var C;(C=i.current)===null||C===void 0||C.update(x)}i.current?b():l(C=>[].concat(N(C),[b]))},then:x=>(g=!0,u.then(x))}},[]);return[s.useMemo(()=>({info:n(je),success:n(we),error:n(Ie),warning:n($e),confirm:n(Te)}),[]),s.createElement(wn,{key:"modal-holder",ref:e})]}var Tn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const Nn=e=>{const{prefixCls:t,className:l,closeIcon:n,closable:o,type:r,title:m,children:f,footer:c}=e,i=Tn(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:a}=s.useContext(D),u=a(),g=t||a("modal"),v=de(u),[O,d,x]=me(g,v),b=`${g}-confirm`;let C={};return r?C={closable:o??!1,title:"",footer:"",children:s.createElement(Oe,Object.assign({},e,{prefixCls:g,confirmPrefixCls:b,rootPrefixCls:u,content:f}))}:C={closable:o??!0,title:m,footer:c!==null&&s.createElement(xe,Object.assign({},e)),children:f},O(s.createElement(rn,Object.assign({prefixCls:g,className:T(d,`${g}-pure-panel`,r&&b,r&&`${b}-${r}`,l,x,v)},i,{closeIcon:pe(g,n),closable:o},C)))},Sn=un(Nn);function Ne(e){return B($e(e))}const $=ye;$.useModal=In;$.info=function(t){return B(je(t))};$.success=function(t){return B(we(t))};$.error=function(t){return B(Ie(t))};$.warning=Ne;$.warn=Ne;$.confirm=function(t){return B(Te(t))};$.destroyAll=function(){for(;M.length;){const t=M.pop();t&&t()}};$.config=Pn;$._InternalPanelDoNotUseOrYouWillBeFired=Sn;$.displayName="Modal";export{$ as M,bn as a,oe as p,mn as u};
