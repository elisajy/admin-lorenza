import{l as r,F as p,j as O,a as t,k as B,B as h}from"./index-CMj3uLrU.js";import{g as u,a as v,b as R,c as b,d as C,U as z}from"./FormItems-DEwC68hs.js";import{P as G,h as _}from"./PreviewImage-jG4-DGwL.js";import{C as J}from"./Collapse-Db3RbBRs.js";import"./useForceUpdate-NGDAtVJA.js";import"./index-CJICnQO8.js";import"./Skeleton-CmQh4Kpu.js";const K=({form:i,categoryData:d,finishesData:n,sizesData:l,tagsData:m})=>r.jsxDEV(r.Fragment,{children:r.jsxDEV("div",{className:"form-container",children:[r.jsxDEV("div",{className:"form-wrap",children:r.jsxDEV(p,{layout:"vertical",form:i,className:"form-box",children:[u("Product Name","prdName","Please fill in the Product Name."),d&&d.length>0&&v("Product Category","prdCategory","Please select category.",!1,d),u("Product Variation","prdVariation","Please fill in the Product Variation."),R("Product Description","prdDesc","Please fill in the Product Description.",6)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:18,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:17,columnNumber:17},void 0),r.jsxDEV("div",{className:"form-wrap",children:r.jsxDEV(p,{layout:"vertical",form:i,className:"form-box",children:[u("Product Code","prdCode","Please fill in the Product Code."),u("Product Thickness","prdThickness","Please fill in the Product Thickness."),l&&l.length>0&&b("Product Size","prdSize","Please select a Product Size.",!1,l),n&&n.length>0&&b("Product Finishes","prdFinish","Please select a Product Finishes.",!1,n),u("Product Color","prdColor","Please fill in the Product Color."),m&&m.length>0&&v("Product Tags","prdTag","Please select Tag.",!1,m)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:34,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:33,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:16,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:15,columnNumber:9},void 0),ee=()=>{const i=O(),[d]=p.useForm(),[n,l]=t.useState(),[m,I]=t.useState(),[U,D]=t.useState(),[x,A]=t.useState(),{setSuccessNotification:f,setErrorNotification:c}=B(),[y,j]=t.useState(),[E,V]=t.useState(),[k,g]=t.useState({previewVisible:!1,previewImage:"",previewTitle:""}),P=e=>e.type==="image/jpeg"||e.type==="image/png"?e.size>1e6?(c("Image file size is more than 1MB. Please try a smaller size file."),z.LIST_IGNORE):!1:(c("Only .jpg, .jpeg and .png image file format are accepted!"),z.LIST_IGNORE),F=e=>Array.isArray(e)?e:(j(e.file),e&&e.fileList),L=e=>Array.isArray(e)?e:(V(e.file),e&&e.fileList),N=async e=>{e=await _(e),g({previewVisible:!0,previewImage:e.url||e.preview,previewTitle:e.name||e.url.substring(e.url.lastIndexOf("/")+1)})},S=[{key:"1",label:"Basic Information",children:r.jsxDEV(K,{form:d,categoryData:n,tagsData:m,sizesData:U,finishesData:x},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:68,columnNumber:23},void 0)},{key:"2",label:"Product Images",children:r.jsxDEV("div",{className:"form-container",children:r.jsxDEV("div",{className:"form-wrap",children:r.jsxDEV(p,{layout:"vertical",form:d,className:"form-box",children:C("image","Product Image",F,N,P,!0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:75,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:74,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:73,columnNumber:23},void 0)},{key:"3",label:"Mock Images",children:r.jsxDEV("div",{className:"form-container",children:r.jsxDEV("div",{className:"form-wrap",children:r.jsxDEV(p,{layout:"vertical",form:d,className:"form-box",children:C("mockedImages","Mocked Image",L,N,P,!0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:89,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:88,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:87,columnNumber:23},void 0)}],T=e=>{console.log(e)};t.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/all-categories-no-level").then(e=>e.json()).then(e=>{let o=[];e.map(a=>{o.push({val:a.id,label:a.name})}),l(o)})},[]),t.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/all-tags-no-level").then(e=>e.json()).then(e=>{let o=[];e.map(a=>{o.push({val:a.id,label:a.name})}),I(o)})},[]),t.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/all-sizes").then(e=>e.json()).then(e=>{let o=[];e.map(a=>{o.push({val:a.id,label:a.name,id:a.id})}),D(o)})},[]),t.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/all-finishes").then(e=>e.json()).then(e=>{let o=[];e.map(a=>{o.push({val:a.id,label:a.name,id:a.id})}),A(o)})},[]);const w=async(e,o)=>{const a=new FormData;a.append("image",e),fetch(`https://bo-api.lorenzaceramica.com/upload-products-images/${o}`,{method:"POST",body:a}).then(async s=>{s.status===201&&(f("Upload Product Images Successful!"),i("/product-listing"))}).catch(s=>{console.log("Upload Product Images error:",s),c("Upload Product Images Failed. Please try again later.")})},M=async(e,o)=>{const a=new FormData;a.append("image",e),fetch(`https://bo-api.lorenzaceramica.com/upload-mocked-images/${o}`,{method:"POST",body:a}).then(async s=>{s.status===201&&(f("Upload Mocked Images Successful!"),i("/product-listing"))}).catch(s=>{console.log("Upload Mocked Images error:",s),c("Upload Mocked Images Failed. Please try again later.")})},$=()=>{const e=d.getFieldsValue();if(e.image===void 0||e.image&&e.image.length===0)return c("Please ensure that image is uploaded.");if(e.mockedImages===void 0||e.mockedImages&&e.mockedImages.length===0)return c("Please ensure that Mocked Image is uploaded.");const o={name:e.prdName,code:e.prdCode,description:e.prdDesc,variation:e.prdVariation,thickness:e.prdThickness,color:e.prdColor,tags:e.prdTag,categories:e.prdCategory,size:e.prdSize,finish:e.prdFinish};fetch("https://bo-api.lorenzaceramica.com/add-product",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(async a=>{if(a.status===201){f("Insert Successful!");const s=await a.json();console.log(s),w(y,s.id),M(E,s.id)}a.status===409&&c("Duplicated records. Please try again later.")}).catch(a=>{console.log("Insert Inspiration error:",a),c("Insert Failed. Please try again later.")})};return r.jsxDEV(r.Fragment,{children:[r.jsxDEV("div",{style:{textAlign:"left"},children:[r.jsxDEV("h2",{children:"Add New Product"},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:264,columnNumber:17},void 0),r.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:265,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:263,columnNumber:13},void 0),r.jsxDEV(J,{style:{textAlign:"left"},items:S,defaultActiveKey:["1"],onChange:T},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:267,columnNumber:13},void 0),";",r.jsxDEV("div",{className:"form-action-button-container",children:[r.jsxDEV(h,{type:"primary",className:"form-button",onClick:$,children:"Save"},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:269,columnNumber:17},void 0),r.jsxDEV(h,{className:"form-button",onClick:()=>i("/product-listing"),children:"Cancel"},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:270,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:268,columnNumber:13},void 0),r.jsxDEV(G,{displayImg:k,setDisplayImg:g},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:272,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:262,columnNumber:9},void 0)};export{ee as default};
