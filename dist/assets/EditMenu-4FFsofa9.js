import{a,l as e,F as v,k as U,B as b,j as L,n as y}from"./index-US9K7eiX.js";import{c as z,g as F,e as I}from"./FormItems-BNRME0ep.js";import{D as w,m as P}from"./dummyProduct-BXXzAgCt.js";import{F as T,C as E,S as x}from"./Table-DX7ayBoA.js";import{C as $}from"./ConfirmationDialog-B-AxN91o.js";import{C as q}from"./Collapse-Bj1Dv9_0.js";import"./useForceUpdate-t_T1H4u5.js";import"./index-CsdL8JI2.js";import"./Skeleton-D57MXuDl.js";import"./Dropdown-Bwnzy9Oo.js";const B=({form:m,data:t,setTableNameArr:l,tableNameArr:c})=>{const[d,N]=a.useState(),g=[{id:1,val:"categories",label:"Categories"},{id:2,val:"finishes",label:"Finishes"},{id:3,val:"tags",label:"Tags"},{id:4,val:"sizes",label:"Sizes"},{id:5,val:"colors",label:"Colors"}];a.useEffect(()=>{m.setFieldsValue({name:t==null?void 0:t.name,mainSideNavId:t==null?void 0:t.mainSideNavId,sequence:t==null?void 0:t.sequence})},[t]);const h=r=>{l([]),N(r),m.setFieldValue("menuName",null),r==="categories"?fetch("https://bo-api.lorenzaceramica.com/all-categories").then(n=>n.json()).then(n=>{let i=[];n.map(s=>{i.push({val:s.name,label:s.name})}),l(i)}):r==="sizes"?(m.setFieldValue("menuName","Sizes"),fetch("https://bo-api.lorenzaceramica.com/all-sizes").then(n=>n.json()).then(n=>{let i=[];n.map(s=>{i.push({val:s.value,label:s.name,id:s.id})}),l(i)})):r==="finishes"?(m.setFieldValue("menuName","Finishes"),fetch("https://bo-api.lorenzaceramica.com/all-finishes").then(n=>n.json()).then(n=>{let i=[];n.map(s=>{i.push({val:s.name,label:s.name,id:s.id})}),l(i)})):r==="tags"?fetch("https://bo-api.lorenzaceramica.com/all-tags").then(n=>n.json()).then(n=>{let i=[];n.map(s=>{i.push({val:s.name,label:s.name})}),l(i)}):r==="colors"&&(m.setFieldValue("menuName","Colors"),fetch("https://bo-api.lorenzaceramica.com/all-colors").then(n=>n.json()).then(n=>{let i=[];n.map(s=>{i.push({val:s.name,label:s.name})}),l(i)}))};return e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"form-container",children:[e.jsxDEV("div",{className:"form-wrap",children:e.jsxDEV(v,{layout:"vertical",form:m,className:"form-box",children:[g.length>0&&z("Types","tableName","Please select a type.",!1,g,!0,"180px",h),d!==void 0&&e.jsxDEV(e.Fragment,{children:["colors","sizes","finishes"].includes(d)?e.jsxDEV(e.Fragment,{children:F("Menu Name","menuName","Please fill in the Menu Name.","",!0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/MenuInfo.tsx",lineNumber:150,columnNumber:41},void 0):e.jsxDEV(e.Fragment,{children:c&&c.length>0&&z("Menu Name","menuName","Please select a name.",!1,c,!0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/MenuInfo.tsx",lineNumber:143,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/MenuInfo.tsx",lineNumber:140,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/MenuInfo.tsx",lineNumber:129,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/MenuInfo.tsx",lineNumber:128,columnNumber:17},void 0),e.jsxDEV("div",{className:"form-wrap",children:e.jsxDEV(v,{layout:"vertical",form:m,className:"form-box",children:I("Sequence","sequence","Please fill in sequence.")},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/MenuInfo.tsx",lineNumber:159,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/MenuInfo.tsx",lineNumber:158,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/MenuInfo.tsx",lineNumber:127,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/MenuInfo.tsx",lineNumber:126,columnNumber:9},void 0)},k=({childMenu:m,data:t,tableNameArr:l})=>{const[c,d]=a.useState(!1),[N,g]=a.useState([]),[h,r]=a.useState(!1),[n,i]=a.useState({title:"",message:"",buttonText:"",action:()=>{}}),{setSuccessNotification:s,setErrorNotification:p}=U(),[S,o]=a.useState(0);console.log(l);const f=()=>{d(!0)},u=()=>{d(!1)};a.useEffect(()=>{t&&g(t.subNavs)},[t]);const j=M=>{console.log(M),r(!0),i({title:"Confirm Submission?",message:"This action will delete selected record(s).",buttonText:"Confirm",action:async()=>{const V={questions:[M.id]};fetch("https://bo-api.lorenzaceramica.com/delete-sub-products-sideNav",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)}).then(C=>{C.status===204&&s("Delete Successful!")}).catch(C=>{console.log("Delete Child Menu error:",C),p("Delete Failed. Please try again later.")}),r(!1),o(C=>C+1)}})};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"form-button-child-container",children:e.jsxDEV("div",{children:e.jsxDEV(b,{type:"primary",className:"form-button",onClick:f,children:"Add"},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:86,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:85,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:84,columnNumber:13},void 0),e.jsxDEV("div",{children:e.jsxDEV(T,{dataSource:N,children:[e.jsxDEV(E,{title:"Child Name",dataIndex:"name"},"name",!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:92,columnNumber:21},void 0),e.jsxDEV(E,{title:"Updated At",dataIndex:"updatedAt"},"updatedAt",!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:93,columnNumber:21},void 0),e.jsxDEV(E,{title:"Action",render:(M,D)=>e.jsxDEV(x,{size:"middle",children:e.jsxDEV("a",{onClick:()=>j(D),children:"Delete"},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:99,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:98,columnNumber:29},void 0)},"action",!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:94,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:91,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:90,columnNumber:13},void 0),e.jsxDEV($,{showModal:h,title:n.title,confirmationMessage:n.message,setShowModal:r,action:n.action,actionText:n.buttonText},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:105,columnNumber:13},void 0),e.jsxDEV(w,{title:"Add Child",width:720,onClose:u,open:c,styles:{body:{paddingBottom:80}},extra:e.jsxDEV(x,{children:[e.jsxDEV(b,{onClick:u,children:"Cancel"},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:121,columnNumber:25},void 0),e.jsxDEV(b,{onClick:u,type:"primary",children:"Submit"},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:122,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:120,columnNumber:21},void 0),children:e.jsxDEV(v,{layout:"vertical",children:l&&l.length>0&&z("Child","childNav","Please select child.",!1,l)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:128,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:109,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/ChildSetting.tsx",lineNumber:83,columnNumber:9},void 0)},X=()=>{const m=L(),t="Edit Menu",[l]=v.useForm(),{id:c}=y(),[d,N]=a.useState(),[g,h]=a.useState();U();const[r,n]=a.useState(),[i,s]=a.useState([]);a.useEffect(()=>{const o=P();let f=[];o.map(u=>{f.push({val:u.id,label:u.name})}),N(f)},[]);const p=[{key:"1",label:"Basic Information",children:e.jsxDEV(B,{form:l,data:g,setTableNameArr:s,tableNameArr:i},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/EditMenu.tsx",lineNumber:36,columnNumber:23},void 0)},{key:"2",label:"Child Settings",children:e.jsxDEV(k,{childMenu:d,data:g,tableNameArr:i},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/EditMenu.tsx",lineNumber:41,columnNumber:23},void 0)}],S=o=>{console.log(o)};return a.useEffect(()=>{fetch(`https://bo-api.lorenzaceramica.com/products-sideNavs-details/${c}`).then(o=>o.json()).then(o=>{h(o)})},[]),a.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/all-categories").then(o=>o.json()).then(o=>{let f=[];o.map(u=>{f.push({val:u.id,label:u.name})}),n(f)})},[]),e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{style:{textAlign:"left"},children:[e.jsxDEV("h2",{children:t},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/EditMenu.tsx",lineNumber:78,columnNumber:17},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/EditMenu.tsx",lineNumber:79,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/EditMenu.tsx",lineNumber:77,columnNumber:13},void 0),e.jsxDEV(q,{style:{textAlign:"left"},items:p,defaultActiveKey:["1"],onChange:S},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/EditMenu.tsx",lineNumber:81,columnNumber:13},void 0),";",e.jsxDEV("div",{className:"form-action-button-container",children:e.jsxDEV(b,{className:"form-button",onClick:()=>m("/menu-settings"),children:"Cancel"},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/EditMenu.tsx",lineNumber:84,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/EditMenu.tsx",lineNumber:82,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/settings/MenuSettings/EditMenu/EditMenu.tsx",lineNumber:76,columnNumber:9},void 0)};export{X as default};
