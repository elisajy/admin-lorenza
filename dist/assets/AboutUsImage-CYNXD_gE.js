import{l as S,F as u,n as x,O as z,a as i,q as s,B as c}from"./index-BqcvEvpb.js";import{P as D,h as P}from"./PreviewImage-ByeyuRvm.js";import{f as y,U as g}from"./FormItems-BWnshmPK.js";import{C as k}from"./index-CAojWbV6.js";import"./index-YfxvPHUr.js";import"./Skeleton-kPPyC2fc.js";import"./useForceUpdate-CNlEq-Uu.js";import"./index-CWfZG50b.js";import"./Dropdown-D4-elaDM.js";const $=()=>{const d="Modify About Us Image",n=S(),[t]=u.useForm(),{setSuccessNotification:b,setErrorNotification:a}=x(),r="lc-admin-at",[p,E,j]=z([r]),[f,h]=i.useState(),[N,m]=i.useState({previewVisible:!1,previewImage:"",previewTitle:""});i.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/about-us",{headers:{Authorization:`Bearer ${p[r]}`}}).then(e=>e.json()).then(e=>{t.setFieldsValue({image:[{uid:"-2",status:"done",url:e[5].content,name:"image_aboutus"}]})})},[]);const U=e=>e.type==="image/jpeg"||e.type==="image/png"?e.size>1e6?(a("Image file size is more than 1MB. Please try a smaller size file."),g.LIST_IGNORE):!1:(a("Only .jpg, .jpeg and .png image file format are accepted!"),g.LIST_IGNORE),v=e=>Array.isArray(e)?e:(h(e.file),e&&e.fileList),C=async e=>{e=await P(e),m({previewVisible:!0,previewImage:e.url||e.preview,previewTitle:e.name||e.url.substring(e.url.lastIndexOf("/")+1)})},A=async e=>{const l=new FormData;l.append("image",e),fetch("https://bo-api.lorenzaceramica.com/modify-about-us-image/6",{method:"POST",body:l}).then(async o=>{o.status===201&&(b("Upload Image Successful!"),n("/"))}).catch(o=>{console.log("Upload Partner error:",o),a("Upload Partner Failed. Please try again later.")})},I=async()=>{const e=t.getFieldsValue();if(e.image===void 0||e.image&&e.image.length===0)return a("Please ensure that image is uploaded.");await A(f)};return s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{style:{textAlign:"left"},children:[s.jsxDEV("h2",{children:d},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:112,columnNumber:17},void 0),s.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:113,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:111,columnNumber:13},void 0),s.jsxDEV(k,{title:"About Us Image",className:"form-card-container",children:s.jsxDEV("div",{className:"form-container",children:s.jsxDEV("div",{className:"form-wrap",children:s.jsxDEV(u,{layout:"vertical",form:t,className:"form-box",children:y("image","About Us Image",v,C,U,!1)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:118,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:117,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:116,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:115,columnNumber:13},void 0),s.jsxDEV("div",{className:"form-action-button-container",children:[s.jsxDEV(c,{type:"primary",className:"form-button",onClick:I,children:"Save"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:128,columnNumber:17},void 0),s.jsxDEV(c,{className:"form-button",onClick:()=>n("/"),children:"Cancel"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:129,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:127,columnNumber:13},void 0),s.jsxDEV(D,{displayImg:N,setDisplayImg:m},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:131,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:110,columnNumber:9},void 0)};export{$ as default};
