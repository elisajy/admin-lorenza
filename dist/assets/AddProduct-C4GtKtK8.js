import{l as a,F as p,j as O,a as t,k as B,B as h}from"./index-BwIVOf_g.js";import{g as u,a as b,b as R,c as v,d as C,U as z}from"./FormItems-1D3W1h5B.js";import{P as G,h as _}from"./PreviewImage-CwreqY-S.js";import{C as J}from"./Collapse-tp8auHvP.js";import"./useForceUpdate-DDK1q1ze.js";import"./index-CW4q8-e4.js";import"./Skeleton-Ai-ZFmr3.js";const K=({form:c,categoryData:d,finishesData:n,sizesData:l,tagsData:m})=>a.jsxDEV(a.Fragment,{children:a.jsxDEV("div",{className:"form-container",children:[a.jsxDEV("div",{className:"form-wrap",children:a.jsxDEV(p,{layout:"vertical",form:c,className:"form-box",children:[u("Product Name","prdName","Please fill in the Product Name."),d&&d.length>0&&b("Product Category","prdCategory","Please select category.",!1,d),u("Product Variation","prdVariation","Please fill in the Product Variation."),R("Product Description","prdDesc","Please fill in the Product Description.",6)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:18,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:17,columnNumber:17},void 0),a.jsxDEV("div",{className:"form-wrap",children:a.jsxDEV(p,{layout:"vertical",form:c,className:"form-box",children:[u("Product Code","prdCode","Please fill in the Product Code."),u("Product Thickness","prdThickness","Please fill in the Product Thickness."),l&&l.length>0&&v("Product Size","prdSize","Please select a Product Size.",!1,l),n&&n.length>0&&v("Product Finishes","prdFinish","Please select a Product Finishes.",!1,n),u("Product Color","prdColor","Please fill in the Product Color."),m&&m.length>0&&b("Product Tags","prdTag","Please select Tag.",!1,m)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:34,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:33,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:16,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/ProductInfo-add.tsx",lineNumber:15,columnNumber:9},void 0),ee=()=>{const c=O(),[d]=p.useForm(),[n,l]=t.useState(),[m,U]=t.useState(),[D,x]=t.useState(),[A,I]=t.useState(),{setSuccessNotification:f,setErrorNotification:i}=B(),[y,j]=t.useState(),[E,V]=t.useState(),[F,g]=t.useState({previewVisible:!1,previewImage:"",previewTitle:""}),P=e=>e.type==="image/jpeg"||e.type==="image/png"?e.size>1e6?(i("Image file size is more than 1MB. Please try a smaller size file."),z.LIST_IGNORE):!1:(i("Only .jpg, .jpeg and .png image file format are accepted!"),z.LIST_IGNORE),L=e=>Array.isArray(e)?e:(j(e.file),e&&e.fileList),S=e=>Array.isArray(e)?e:(V(e.file),e&&e.fileList),N=async e=>{e=await _(e),g({previewVisible:!0,previewImage:e.url||e.preview,previewTitle:e.name||e.url.substring(e.url.lastIndexOf("/")+1)})},k=[{key:"1",label:"Basic Information",children:a.jsxDEV(K,{form:d,categoryData:n,tagsData:m,sizesData:D,finishesData:A},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:68,columnNumber:23},void 0)},{key:"2",label:"Product Images",children:a.jsxDEV("div",{className:"form-container",children:a.jsxDEV("div",{className:"form-wrap",children:a.jsxDEV(p,{layout:"vertical",form:d,className:"form-box",children:C("image","Product Image",L,N,P)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:75,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:74,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:73,columnNumber:23},void 0)},{key:"3",label:"Mock Images",children:a.jsxDEV("div",{className:"form-container",children:a.jsxDEV("div",{className:"form-wrap",children:a.jsxDEV(p,{layout:"vertical",form:d,className:"form-box",children:C("mockedImages","Mocked Image",S,N,P)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:89,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:88,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:87,columnNumber:23},void 0)}],T=e=>{console.log(e)};t.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/all-categories-no-level").then(e=>e.json()).then(e=>{let o=[];e.map(r=>{o.push({val:r.id,label:r.name})}),l(o)})},[]),t.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/all-tags-no-level").then(e=>e.json()).then(e=>{let o=[];e.map(r=>{o.push({val:r.id,label:r.name})}),U(o)})},[]),t.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/all-sizes").then(e=>e.json()).then(e=>{let o=[];e.map(r=>{o.push({val:r.id,label:r.name,id:r.id})}),x(o)})},[]),t.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/all-finishes").then(e=>e.json()).then(e=>{let o=[];e.map(r=>{o.push({val:r.id,label:r.name,id:r.id})}),I(o)})},[]);const w=async(e,o)=>{const r=new FormData;r.append("image",e),fetch(`https://bo-api.lorenzaceramica.com/upload-products-images/${o}`,{method:"POST",body:r}).then(async s=>{s.status===201&&(f("Upload Product Images Successful!"),c("/product-listing"))}).catch(s=>{console.log("Upload Product Images error:",s),i("Upload Product Images Failed. Please try again later.")})},M=async(e,o)=>{const r=new FormData;r.append("image",e),fetch(`https://bo-api.lorenzaceramica.com/upload-mocked-images/${o}`,{method:"POST",body:r}).then(async s=>{s.status===201&&(f("Upload Mocked Images Successful!"),c("/product-listing"))}).catch(s=>{console.log("Upload Mocked Images error:",s),i("Upload Mocked Images Failed. Please try again later.")})},$=()=>{const e=d.getFieldsValue(),o={name:e.prdName,code:e.prdCode,description:e.prdDesc,variation:e.prdVariation,thickness:e.prdThickness,color:e.prdColor,tags:e.prdTag,categories:e.prdCategory,size:e.prdSize,finish:e.prdFinish};fetch("https://bo-api.lorenzaceramica.com/add-product",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(async r=>{if(r.status===201){f("Insert Successful!");const s=await r.json();console.log(s),w(y,s.id),M(E,s.id)}r.status===409&&i("Duplicated records. Please try again later.")}).catch(r=>{console.log("Insert Inspiration error:",r),i("Insert Failed. Please try again later.")})};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{style:{textAlign:"left"},children:[a.jsxDEV("h2",{children:"Add New Product"},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:256,columnNumber:17},void 0),a.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:257,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:255,columnNumber:13},void 0),a.jsxDEV(J,{style:{textAlign:"left"},items:k,defaultActiveKey:["1"],onChange:T},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:259,columnNumber:13},void 0),";",a.jsxDEV("div",{className:"form-action-button-container",children:[a.jsxDEV(h,{type:"primary",className:"form-button",onClick:$,children:"Save"},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:261,columnNumber:17},void 0),a.jsxDEV(h,{className:"form-button",onClick:()=>c("/product-listing"),children:"Cancel"},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:262,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:260,columnNumber:13},void 0),a.jsxDEV(G,{displayImg:F,setDisplayImg:g},void 0,!1,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:264,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/U10092494/Documents/LorenzaCeramica/admin-lorenza/src/pages/products/AddProduct/AddProduct.tsx",lineNumber:254,columnNumber:9},void 0)};export{ee as default};
