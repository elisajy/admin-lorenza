import{l as E,a as s,n as I,p as P,q as n,B as k}from"./index-BYKBY7iu.js";import{F as L,C as o,S as j}from"./Table-ws2Rri8v.js";import{C as U}from"./ConfirmationDialog-MO3yT7Ol.js";import"./useForceUpdate-Ca5D_xqM.js";import"./Dropdown-D0DVhJjE.js";import"./index-D3qJHe3i.js";import"./Skeleton-C0PweUTl.js";const M=()=>{const t=E(),[h,r]=s.useState(!1),[a,g]=s.useState({title:"",message:"",buttonText:"",action:()=>{}}),[C,c]=s.useState([]),{setSuccessNotification:f,setErrorNotification:N}=I(),[b,V]=s.useState(0),x=P(),D=new URLSearchParams(x.search),m=Number(D.get("page"))||1,[v,l]=s.useState({current:m,pageSize:10}),z=e=>{l(e),t(`?page=${e.current}`)};s.useEffect(()=>{l(e=>({...e,current:m}))},[m]);const d=(e,i)=>{e==="edit"&&t(`/inspiration-settings/edit/${i.key}`),e==="add"&&t("/inspiration-settings/add")};s.useEffect(()=>{u()},[b]);const u=()=>{c([]);try{fetch("https://bo-api.lorenzaceramica.com/all-inspirations",{method:"GET",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},cache:"no-store"}).then(e=>e.json()).then(e=>{const i=e.length>0?e.map(p=>({...p,key:p.id})):[];c([...i])})}catch(e){console.error("Error fetching Inspiration:",e)}},S=e=>{r(!0),g({title:"Confirm Submission?",message:"This action will delete selected record(s).",buttonText:"Confirm",action:async()=>{fetch(`https://bo-api.lorenzaceramica.com/delete-inspiration/${e.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})}).then(async i=>{i.status===204&&(f("Delete Successful!"),await u())}).catch(i=>{console.log("Delete Inspiration error:",i),N("Delete Failed. Please try again later.")}),r(!1)}})};return n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"form-button-container",children:[n.jsxDEV("div",{children:n.jsxDEV("h2",{children:"Inspirations"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:105,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:104,columnNumber:17},void 0),n.jsxDEV("div",{children:n.jsxDEV(k,{type:"primary",className:"form-button",onClick:()=>d("add"),children:"Add"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:108,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:107,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:103,columnNumber:13},void 0),n.jsxDEV(U,{showModal:h,title:a.title,confirmationMessage:a.message,setShowModal:r,action:a.action,actionText:a.buttonText},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:111,columnNumber:13},void 0),n.jsxDEV("div",{children:n.jsxDEV(L,{dataSource:C,pagination:v,onChange:z,rowKey:"id",children:[n.jsxDEV(o,{title:"Title",dataIndex:"title"},"name",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:120,columnNumber:21},void 0),n.jsxDEV(o,{title:"Path",dataIndex:"path"},"name",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:121,columnNumber:21},void 0),n.jsxDEV(o,{title:"Updated At",dataIndex:"updatedAt"},"updatedAt",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:122,columnNumber:21},void 0),n.jsxDEV(o,{title:"Action",render:(e,i)=>n.jsxDEV(j,{size:"middle",children:[n.jsxDEV("a",{onClick:()=>d("edit",i),children:"Edit"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:128,columnNumber:33},void 0),n.jsxDEV("a",{onClick:()=>S(i),children:"Delete"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:129,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:127,columnNumber:29},void 0)},"action",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:123,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:116,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/Inspirations.tsx",lineNumber:102,columnNumber:9},void 0)};export{M as default};
