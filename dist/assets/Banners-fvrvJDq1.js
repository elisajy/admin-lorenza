import{l as C,a as r,n as P,p as A,q as s,B as z}from"./index-X1Fn-djM.js";import{F as R,C as t,S as L}from"./Table-CVhOhLHz.js";import{C as O}from"./ConfirmationDialog-BH9I-EQ5.js";import"./useForceUpdate-CQ54DrJu.js";import"./Dropdown-DcJVY8ub.js";import"./index-BsiXEUhZ.js";import"./Skeleton-Dx8Irf0r.js";const F=()=>{const i=C(),[f,c]=r.useState(!1),[a,b]=r.useState({title:"",message:"",buttonText:"",action:()=>{}}),[p,d]=r.useState([]),{setSuccessNotification:x,setErrorNotification:E}=P(),[B,S]=r.useState(0),D=A(),g=new URLSearchParams(D.search),m=Number(g.get("page"))||1,[v,u]=r.useState({current:m,pageSize:10}),j=e=>{u(e),i(`?page=${e.current}`)};r.useEffect(()=>{u(e=>({...e,current:m}))},[m]);const N=(e,n)=>{e==="edit"&&i(`/banners/edit/${n.key}`),e==="add"&&i("/banners/add")};r.useEffect(()=>{h()},[B]);const h=()=>{d([]);try{fetch("https://bo-api.lorenzaceramica.com/all-home-banners",{method:"GET",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},cache:"no-store"}).then(e=>e.json()).then(e=>{const n=e.length>0?e.map(o=>({...o,key:o.id})):[];d([...n])})}catch(e){console.error("Error fetching Banners:",e)}},U=e=>{c(!0),b({title:"Confirm Submission?",message:"This action will delete selected record(s).",buttonText:"Confirm",action:async()=>{const o={banners:[e.id]};fetch("https://bo-api.lorenzaceramica.com/delete-home-banner",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(async l=>{l.status===204&&(x("Delete Successful!"),await h())}).catch(l=>{console.log("Delete Partner error:",l),E("Delete Failed. Please try again later.")}),c(!1)}})};return s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{className:"form-button-container",children:[s.jsxDEV("div",{children:s.jsxDEV("h2",{children:"Banners"},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:108,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:107,columnNumber:17},void 0),s.jsxDEV("div",{children:s.jsxDEV(z,{type:"primary",className:"form-button",onClick:()=>N("add"),children:"Add"},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:111,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:110,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:106,columnNumber:13},void 0),s.jsxDEV(O,{showModal:f,title:a.title,confirmationMessage:a.message,setShowModal:c,action:a.action,actionText:a.buttonText},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:114,columnNumber:13},void 0),s.jsxDEV("div",{children:s.jsxDEV(R,{dataSource:p,pagination:v,onChange:j,rowKey:"id",children:[s.jsxDEV(t,{title:"Name",dataIndex:"name"},"name",!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:123,columnNumber:21},void 0),s.jsxDEV(t,{title:"Sequence",dataIndex:"sequence"},"sequence",!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:124,columnNumber:21},void 0),s.jsxDEV(t,{title:"Updated At",dataIndex:"updatedAt"},"updatedAt",!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:125,columnNumber:21},void 0),s.jsxDEV(t,{title:"Action",render:(e,n)=>s.jsxDEV(L,{size:"middle",children:[s.jsxDEV("a",{onClick:()=>N("edit",n),children:"Edit"},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:131,columnNumber:33},void 0),s.jsxDEV("a",{onClick:()=>U(n),children:"Delete"},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:132,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:130,columnNumber:29},void 0)},"action",!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:126,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:119,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:118,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/User/Documents/Projects/LORENZA/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:105,columnNumber:9},void 0)};export{F as default};
