import{l as E,a as s,n as P,p as k,q as n,B as j}from"./index-BkWEOLim.js";import{F as L,C as i,S as U}from"./Table-BbqNMif7.js";import{C as V}from"./ConfirmationDialog-1-PzxH74.js";import"./useForceUpdate-BLQBKbLH.js";import"./Dropdown-BfOAICCf.js";import"./index-CN0E7QP3.js";import"./Skeleton-pJUdaWfE.js";const K=()=>{const t=E(),[C,m]=s.useState(!1),[r,f]=s.useState({title:"",message:"",buttonText:"",action:()=>{}}),[N,d]=s.useState([]),{setSuccessNotification:b,setErrorNotification:p}=P(),[x,y]=s.useState(0),B=k(),D=new URLSearchParams(B.search),c=Number(D.get("page"))||1,[v,u]=s.useState({current:c,pageSize:10}),z=e=>{u(e),t(`?page=${e.current}`)};s.useEffect(()=>{u(e=>({...e,current:c}))},[c]);const h=(e,a)=>{e==="edit"&&t(`/banners/edit/${a.key}`),e==="add"&&t("/banners/add")};s.useEffect(()=>{g()},[x]);const g=()=>{d([]);try{fetch("https://bo-api.lorenzaceramica.com/all-home-banners",{method:"GET",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},cache:"no-store"}).then(e=>e.json()).then(e=>{const a=e.length>0?e.map(o=>({...o,key:o.id})):[];d([...a])})}catch(e){console.error("Error fetching Banners:",e)}},S=e=>{m(!0),f({title:"Confirm Submission?",message:"This action will delete selected record(s).",buttonText:"Confirm",action:async()=>{const o={banners:[e.id]};fetch("https://bo-api.lorenzaceramica.com/delete-home-banner",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(async l=>{l.status===204&&(b("Delete Successful!"),await g())}).catch(l=>{console.log("Delete Partner error:",l),p("Delete Failed. Please try again later.")}),m(!1)}})};return n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"form-button-container",children:[n.jsxDEV("div",{children:n.jsxDEV("h2",{children:"Banners"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:108,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:107,columnNumber:17},void 0),n.jsxDEV("div",{children:n.jsxDEV(j,{type:"primary",className:"form-button",onClick:()=>h("add"),children:"Add"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:111,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:110,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:106,columnNumber:13},void 0),n.jsxDEV(V,{showModal:C,title:r.title,confirmationMessage:r.message,setShowModal:m,action:r.action,actionText:r.buttonText},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:114,columnNumber:13},void 0),n.jsxDEV("div",{children:n.jsxDEV(L,{dataSource:N,pagination:v,onChange:z,rowKey:"id",children:[n.jsxDEV(i,{title:"Name",dataIndex:"name"},"name",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:123,columnNumber:21},void 0),n.jsxDEV(i,{title:"Sequence",dataIndex:"sequence"},"sequence",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:124,columnNumber:21},void 0),n.jsxDEV(i,{title:"Updated At",dataIndex:"updatedAt"},"updatedAt",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:125,columnNumber:21},void 0),n.jsxDEV(i,{title:"Action",render:(e,a)=>n.jsxDEV(U,{size:"middle",children:[n.jsxDEV("a",{onClick:()=>h("edit",a),children:"Edit"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:131,columnNumber:33},void 0),n.jsxDEV("a",{onClick:()=>S(a),children:"Delete"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:132,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:130,columnNumber:29},void 0)},"action",!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:126,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:119,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:118,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/home/Banners/Banners.tsx",lineNumber:105,columnNumber:9},void 0)};export{K as default};
