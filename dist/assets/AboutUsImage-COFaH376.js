import{l as j,F as u,n as P,N as y,a as o,p as s,B as c}from"./index-C5q9eaKk.js";import{P as C,h as S}from"./PreviewImage-xzJ8jjjK.js";import{f as z,U as g}from"./FormItems-BzYKdRp9.js";import{C as E}from"./index-CWPCmIz-.js";import"./index-me5V5Kui.js";import"./Skeleton-CXOUVVOS.js";import"./useForceUpdate-BAsQwViM.js";import"./index-9tJkGHz9.js";import"./Dropdown-CsSZAm1G.js";const $=()=>{const d="Modify About Us Image",i=j(),[a]=u.useForm(),{setSuccessNotification:b,setErrorNotification:t}=P(),n="lc-admin-at",[f,V,D]=y([n]),[p,N]=o.useState(),[U,m]=o.useState({previewVisible:!1,previewImage:"",previewTitle:""});o.useEffect(()=>{fetch("https://bo-api.lorenzaceramica.com/about-us",{headers:{Authorization:`Bearer ${f[n]}`}}).then(e=>e.json()).then(e=>{a.setFieldsValue({image:[{uid:"-2",status:"done",url:e[5].content,name:"image_aboutus"}]})})},[]);const v=e=>e.type==="image/jpeg"||e.type==="image/png"?e.size>1e6?(t("Image file size is more than 1MB. Please try a smaller size file."),g.LIST_IGNORE):!1:(t("Only .jpg, .jpeg and .png image file format are accepted!"),g.LIST_IGNORE),A=e=>Array.isArray(e)?e:(N(e.file),e&&e.fileList),I=async e=>{e=await S(e),m({previewVisible:!0,previewImage:e.url||e.preview,previewTitle:e.name||e.url.substring(e.url.lastIndexOf("/")+1)})},x=async e=>{const l=new FormData;l.append("image",e),fetch("https://bo-api.lorenzaceramica.com/modify-about-us-image/6",{method:"POST",body:l}).then(async r=>{r.status===201&&(b("Upload Image Successful!"),i("/"))}).catch(r=>{console.log("Upload Partner error:",r),t("Upload Partner Failed. Please try again later.")})},h=async()=>{const e=a.getFieldsValue();if(e.image===void 0||e.image&&e.image.length===0)return t("Please ensure that image is uploaded.");await x(p)};return s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{style:{textAlign:"left"},children:[s.jsxDEV("h2",{children:d},void 0,!1,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:112,columnNumber:17},void 0),s.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:113,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:111,columnNumber:13},void 0),s.jsxDEV(E,{title:"About Us Image",className:"form-card-container",children:s.jsxDEV("div",{className:"form-container",children:s.jsxDEV("div",{className:"form-wrap",children:s.jsxDEV(u,{layout:"vertical",form:a,className:"form-box",children:z("image","About Us Image",A,I,v,!1)},void 0,!1,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:118,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:117,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:116,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:115,columnNumber:13},void 0),s.jsxDEV("div",{className:"form-action-button-container",children:[s.jsxDEV(c,{type:"primary",className:"form-button",onClick:h,children:"Save"},void 0,!1,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:128,columnNumber:17},void 0),s.jsxDEV(c,{className:"form-button",onClick:()=>i("/"),children:"Cancel"},void 0,!1,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:129,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:127,columnNumber:13},void 0),s.jsxDEV(C,{displayImg:U,setDisplayImg:m},void 0,!1,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:131,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/70080397/Projects/free/admin-lorenza/src/pages/settings/AboutUsSettings/AboutUsImage.tsx",lineNumber:110,columnNumber:9},void 0)};export{$ as default};
