import{j,F as o,k as A,a as m,l as i,B as p}from"./index-C2K8AR7W.js";import{P as E,h as k}from"./PreviewImage-IiUvUdrc.js";import{T as U}from"./TextEditor-BeVcSBjJ.js";import{g,b as V,f as L,U as h}from"./FormItems-BIhz8kcz.js";import{C as T}from"./Collapse-DJC44Ff8.js";import"./index-Cvpz9R5X.js";import"./Skeleton-BM-4ttUs.js";import"./useForceUpdate-C_cK0Z1j.js";import"./quill.snow-DBzZAfSZ.js";const K=()=>{const f="New Inspiration",l=j(),[r]=o.useForm(),{setSuccessNotification:c,setErrorNotification:n}=A(),[N,b]=m.useState(),[d,C]=m.useState(),[v,u]=m.useState({previewVisible:!1,previewImage:"",previewTitle:""}),x=async(e,t)=>{const a=new FormData;a.append("image",e),fetch(`https://bo-api.lorenzaceramica.com/upload-inspiration-thumbnail/${t}`,{method:"POST",body:a}).then(async s=>{s.status===201&&(c("Upload Thumbnail Successful!"),l("/inspiration-settings"))}).catch(s=>{console.log("Upload Thumbnail error:",s),n("Upload Thumbnail Failed. Please try again later.")})},I=()=>{const e=r.getFieldsValue();if(e.thumbnail===void 0||e.thumbnail&&e.thumbnail.length===0)return n("Please ensure that image is uploaded.");const t={path:e.path,content:d,description:e.description,title:e.title};fetch("https://bo-api.lorenzaceramica.com/add-inspiration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(async a=>{if(a.status===201){c("Insert Successful!");const s=await a.json();x(N,s.id)}}).catch(a=>{console.log("Insert Inspiration error:",a),n("Insert Failed. Please try again later.")})},D=e=>e.type==="image/jpeg"||e.type==="image/png"?e.size>1e6?(n("Image file size is more than 1MB. Please try a smaller size file."),h.LIST_IGNORE):!1:(n("Only .jpg, .jpeg and .png image file format are accepted!"),h.LIST_IGNORE),z=e=>Array.isArray(e)?e:(b(e.file),e&&e.fileList),P=async e=>{e=await k(e),u({previewVisible:!0,previewImage:e.url||e.preview,previewTitle:e.name||e.url.substring(e.url.lastIndexOf("/")+1)})},S=[{key:"1",label:"Basic Information",children:i.jsxDEV("div",{className:"form-container",children:i.jsxDEV("div",{className:"form-wrap",children:i.jsxDEV(o,{layout:"vertical",form:r,className:"form-box",children:[g("Title","title","Please fill in the Title."),V("Description","description","Please fill in the Description.",6),g("Path","path","Please fill in the Path."),L("thumbnail","Thumbnail",z,P,D,!1)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:114,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:113,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:111,columnNumber:23},void 0)},{key:"2",label:"Inspiration Content",children:i.jsxDEV("div",{className:"form-container",children:i.jsxDEV("div",{className:"form-wrap",children:i.jsxDEV(o,{layout:"vertical",form:r,className:"form-box",children:[i.jsxDEV(o.Item,{name:"content",children:i.jsxDEV(U,{className:"para-editor",routeName:"/upload-inspirations-images",setEditorValue:C,editorValue:d},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:139,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:138,columnNumber:25},void 0),i.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:142,columnNumber:25},void 0),i.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:143,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:133,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:132,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:131,columnNumber:23},void 0)}],y=e=>{console.log(e)};return i.jsxDEV(i.Fragment,{children:[i.jsxDEV("div",{style:{textAlign:"left"},children:[i.jsxDEV("h2",{children:f},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:157,columnNumber:17},void 0),i.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:158,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:156,columnNumber:13},void 0),i.jsxDEV(T,{style:{textAlign:"left"},items:S,defaultActiveKey:["1","2"],onChange:y},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:160,columnNumber:13},void 0),";",i.jsxDEV("div",{className:"form-action-button-container",children:[i.jsxDEV(p,{type:"primary",className:"form-button",onClick:I,children:"Save"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:162,columnNumber:17},void 0),i.jsxDEV(p,{className:"form-button",onClick:()=>l("/inspiration-settings"),children:"Cancel"},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:163,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:161,columnNumber:13},void 0),i.jsxDEV(E,{displayImg:v,setDisplayImg:u},void 0,!1,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:165,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Phing/Documents/SookCheng/LorenzaCeramica/admin-lorenza/src/pages/inspirations/AddInspiration.tsx",lineNumber:155,columnNumber:9},void 0)};export{K as default};
