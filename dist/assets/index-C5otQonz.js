import{a,_ as Le,t as We,v as re,c as S,w as ce,x as de,y as He,z as ue,A as ve,D as R,E as ge,K as ie,G as he,P as Ke,C as me,g as Te,m as Ae,u as J,H as Be,e as Fe,J as Ue,L as Ve,M as Xe,N as ye}from"./index-BkWEOLim.js";import{u as Ge,p as be,a as Ye}from"./index-CN0E7QP3.js";import{S as qe}from"./Skeleton-pJUdaWfE.js";var pe=a.createContext(null),xe=a.createContext({}),Ze=["prefixCls","className","containerRef"],Se=function(t){var o=t.prefixCls,n=t.className,r=t.containerRef,l=Le(t,Ze),c=a.useContext(xe),d=c.panel,v=We(d,r);return a.createElement("div",re({className:S("".concat(o,"-content"),n),role:"dialog",ref:v},ce(t,{aria:!0}),{"aria-modal":"true"},l))};Se.displayName="DrawerPanel";function Ce(e){return typeof e=="string"&&String(Number(e))===e?(de(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}function Je(e){de(!("wrapperClassName"in e),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),de(He()||!e.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var we={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Qe(e,t){var o,n,r,l=e.prefixCls,c=e.open,d=e.placement,v=e.inline,y=e.push,w=e.forceRender,b=e.autoFocus,O=e.keyboard,i=e.classNames,m=e.rootClassName,s=e.rootStyle,E=e.zIndex,D=e.className,P=e.id,I=e.style,p=e.motion,g=e.width,C=e.height,M=e.children,k=e.mask,N=e.maskClosable,j=e.maskMotion,Q=e.maskClassName,U=e.maskStyle,W=e.afterOpenChange,H=e.onClose,T=e.onMouseEnter,ee=e.onMouseOver,te=e.onMouseLeave,V=e.onClick,ae=e.onKeyDown,ne=e.onKeyUp,h=e.styles,_=e.drawerRender,$=a.useRef(),z=a.useRef(),L=a.useRef();a.useImperativeHandle(t,function(){return $.current});var K=function(x){var Y=x.keyCode,q=x.shiftKey;switch(Y){case ie.TAB:{if(Y===ie.TAB){if(!q&&document.activeElement===L.current){var Z;(Z=z.current)===null||Z===void 0||Z.focus({preventScroll:!0})}else if(q&&document.activeElement===z.current){var le;(le=L.current)===null||le===void 0||le.focus({preventScroll:!0})}}break}case ie.ESC:{H&&O&&(x.stopPropagation(),H(x));break}}};a.useEffect(function(){if(c&&b){var u;(u=$.current)===null||u===void 0||u.focus({preventScroll:!0})}},[c]);var oe=a.useState(!1),X=ue(oe,2),A=X[0],G=X[1],f=a.useContext(pe),se;typeof y=="boolean"?se=y?{}:{distance:0}:se=y||{};var B=(o=(n=(r=se)===null||r===void 0?void 0:r.distance)!==null&&n!==void 0?n:f==null?void 0:f.pushDistance)!==null&&o!==void 0?o:180,Re=a.useMemo(function(){return{pushDistance:B,push:function(){G(!0)},pull:function(){G(!1)}}},[B]);a.useEffect(function(){if(c){var u;f==null||(u=f.push)===null||u===void 0||u.call(f)}else{var x;f==null||(x=f.pull)===null||x===void 0||x.call(f)}},[c]),a.useEffect(function(){return function(){var u;f==null||(u=f.pull)===null||u===void 0||u.call(f)}},[]);var Ie=k&&a.createElement(ve,re({key:"mask"},j,{visible:c}),function(u,x){var Y=u.className,q=u.style;return a.createElement("div",{className:S("".concat(l,"-mask"),Y,i==null?void 0:i.mask,Q),style:R(R(R({},q),U),h==null?void 0:h.mask),onClick:N&&c?H:void 0,ref:x})}),Me=typeof p=="function"?p(d):p,F={};if(A&&B)switch(d){case"top":F.transform="translateY(".concat(B,"px)");break;case"bottom":F.transform="translateY(".concat(-B,"px)");break;case"left":F.transform="translateX(".concat(B,"px)");break;default:F.transform="translateX(".concat(-B,"px)");break}d==="left"||d==="right"?F.width=Ce(g):F.height=Ce(C);var _e={onMouseEnter:T,onMouseOver:ee,onMouseLeave:te,onClick:V,onKeyDown:ae,onKeyUp:ne},ze=a.createElement(ve,re({key:"panel"},Me,{visible:c,forceRender:w,onVisibleChanged:function(x){W==null||W(x)},removeOnLeave:!1,leavedClassName:"".concat(l,"-content-wrapper-hidden")}),function(u,x){var Y=u.className,q=u.style,Z=a.createElement(Se,re({id:P,containerRef:x,prefixCls:l,className:S(D,i==null?void 0:i.content),style:R(R({},I),h==null?void 0:h.content)},ce(e,{aria:!0}),_e),M);return a.createElement("div",re({className:S("".concat(l,"-content-wrapper"),i==null?void 0:i.wrapper,Y),style:R(R(R({},F),q),h==null?void 0:h.wrapper)},ce(e,{data:!0})),_?_(Z):Z)}),fe=R({},s);return E&&(fe.zIndex=E),a.createElement(pe.Provider,{value:Re},a.createElement("div",{className:S(l,"".concat(l,"-").concat(d),m,ge(ge({},"".concat(l,"-open"),c),"".concat(l,"-inline"),v)),style:fe,tabIndex:-1,ref:$,onKeyDown:K},Ie,a.createElement("div",{tabIndex:0,ref:z,style:we,"aria-hidden":"true","data-sentinel":"start"}),ze,a.createElement("div",{tabIndex:0,ref:L,style:we,"aria-hidden":"true","data-sentinel":"end"})))}var ke=a.forwardRef(Qe);ke.displayName="DrawerPopup";var Ne=function(t){var o=t.open,n=o===void 0?!1:o,r=t.prefixCls,l=r===void 0?"rc-drawer":r,c=t.placement,d=c===void 0?"right":c,v=t.autoFocus,y=v===void 0?!0:v,w=t.keyboard,b=w===void 0?!0:w,O=t.width,i=O===void 0?378:O,m=t.mask,s=m===void 0?!0:m,E=t.maskClosable,D=E===void 0?!0:E,P=t.getContainer,I=t.forceRender,p=t.afterOpenChange,g=t.destroyOnClose,C=t.onMouseEnter,M=t.onMouseOver,k=t.onMouseLeave,N=t.onClick,j=t.onKeyDown,Q=t.onKeyUp,U=t.panelRef,W=a.useState(!1),H=ue(W,2),T=H[0],ee=H[1];Je(t);var te=a.useState(!1),V=ue(te,2),ae=V[0],ne=V[1];he(function(){ne(!0)},[]);var h=ae?n:!1,_=a.useRef(),$=a.useRef();he(function(){h&&($.current=document.activeElement)},[h]);var z=function(A){var G;if(ee(A),p==null||p(A),!A&&$.current&&!((G=_.current)!==null&&G!==void 0&&G.contains($.current))){var f;(f=$.current)===null||f===void 0||f.focus({preventScroll:!0})}},L=a.useMemo(function(){return{panel:U}},[U]);if(!I&&!T&&!h&&g)return null;var K={onMouseEnter:C,onMouseOver:M,onMouseLeave:k,onClick:N,onKeyDown:j,onKeyUp:Q},oe=R(R({},t),{},{open:h,prefixCls:l,placement:d,autoFocus:y,keyboard:b,width:i,mask:s,maskClosable:D,inline:P===!1,afterOpenChange:z,ref:_},K);return a.createElement(xe.Provider,{value:L},a.createElement(Ke,{open:h||I||T,autoDestroy:!1,getContainer:P,autoLock:s&&(h||T)},a.createElement(ke,oe)))};Ne.displayName="Drawer";const Oe=e=>{var t,o;const{prefixCls:n,title:r,footer:l,extra:c,loading:d,onClose:v,headerStyle:y,bodyStyle:w,footerStyle:b,children:O,classNames:i,styles:m}=e,{drawer:s}=a.useContext(me),E=a.useCallback(g=>a.createElement("button",{type:"button",onClick:v,"aria-label":"Close",className:`${n}-close`},g),[v]),[D,P]=Ge(be(e),be(s),{closable:!0,closeIconRender:E}),I=a.useMemo(()=>{var g,C;return!r&&!D?null:a.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(g=s==null?void 0:s.styles)===null||g===void 0?void 0:g.header),y),m==null?void 0:m.header),className:S(`${n}-header`,{[`${n}-header-close-only`]:D&&!r&&!c},(C=s==null?void 0:s.classNames)===null||C===void 0?void 0:C.header,i==null?void 0:i.header)},a.createElement("div",{className:`${n}-header-title`},P,r&&a.createElement("div",{className:`${n}-title`},r)),c&&a.createElement("div",{className:`${n}-extra`},c))},[D,P,c,y,n,r]),p=a.useMemo(()=>{var g,C;if(!l)return null;const M=`${n}-footer`;return a.createElement("div",{className:S(M,(g=s==null?void 0:s.classNames)===null||g===void 0?void 0:g.footer,i==null?void 0:i.footer),style:Object.assign(Object.assign(Object.assign({},(C=s==null?void 0:s.styles)===null||C===void 0?void 0:C.footer),b),m==null?void 0:m.footer)},l)},[l,b,n]);return a.createElement(a.Fragment,null,I,a.createElement("div",{className:S(`${n}-body`,i==null?void 0:i.body,(t=s==null?void 0:s.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(o=s==null?void 0:s.styles)===null||o===void 0?void 0:o.body),w),m==null?void 0:m.body)},d?a.createElement(qe,{active:!0,title:!1,paragraph:{rows:5},className:`${n}-body-skeleton`}):O),p)},et=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},$e=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),Ee=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},$e({opacity:e},{opacity:1})),tt=(e,t)=>[Ee(.7,t),$e({transform:et(e)},{transform:"none"})],at=e=>{const{componentCls:t,motionDurationSlow:o}=e;return{[t]:{[`${t}-mask-motion`]:Ee(0,o),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((n,r)=>Object.assign(Object.assign({},n),{[`&-${r}`]:tt(r,o)}),{})}}},nt=e=>{const{borderRadiusSM:t,componentCls:o,zIndexPopup:n,colorBgMask:r,colorBgElevated:l,motionDurationSlow:c,motionDurationMid:d,paddingXS:v,padding:y,paddingLG:w,fontSizeLG:b,lineHeightLG:O,lineWidth:i,lineType:m,colorSplit:s,marginXS:E,colorIcon:D,colorIconHover:P,colorBgTextHover:I,colorBgTextActive:p,colorText:g,fontWeightStrong:C,footerPaddingBlock:M,footerPaddingInline:k,calc:N}=e,j=`${o}-content-wrapper`;return{[o]:{position:"fixed",inset:0,zIndex:n,pointerEvents:"none",color:g,"&-pure":{position:"relative",background:l,display:"flex",flexDirection:"column",[`&${o}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${o}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${o}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${o}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${o}-mask`]:{position:"absolute",inset:0,zIndex:n,background:r,pointerEvents:"auto"},[j]:{position:"absolute",zIndex:n,maxWidth:"100vw",transition:`all ${c}`,"&-hidden":{display:"none"}},[`&-left > ${j}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${j}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${j}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${j}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${o}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:l,pointerEvents:"auto"},[`${o}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${J(y)} ${J(w)}`,fontSize:b,lineHeight:O,borderBottom:`${J(i)} ${m} ${s}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${o}-extra`]:{flex:"none"},[`${o}-close`]:Object.assign({display:"inline-flex",width:N(b).add(v).equal(),height:N(b).add(v).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:E,color:D,fontWeight:C,fontSize:b,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${d}`,textRendering:"auto","&:hover":{color:P,backgroundColor:I,textDecoration:"none"},"&:active":{backgroundColor:p}},Be(e)),[`${o}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:b,lineHeight:O},[`${o}-body`]:{flex:1,minWidth:0,minHeight:0,padding:w,overflow:"auto",[`${o}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${o}-footer`]:{flexShrink:0,padding:`${J(M)} ${J(k)}`,borderTop:`${J(i)} ${m} ${s}`},"&-rtl":{direction:"rtl"}}}},ot=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),De=Te("Drawer",e=>{const t=Ae(e,{});return[nt(t),at(t)]},ot);var Pe=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const rt={distance:180},je=e=>{var t;const{rootClassName:o,width:n,height:r,size:l="default",mask:c=!0,push:d=rt,open:v,afterOpenChange:y,onClose:w,prefixCls:b,getContainer:O,style:i,className:m,visible:s,afterVisibleChange:E,maskStyle:D,drawerStyle:P,contentWrapperStyle:I}=e,p=Pe(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:g,getPrefixCls:C,direction:M,drawer:k}=a.useContext(me),N=C("drawer",b),[j,Q,U]=De(N),W=O===void 0&&g?()=>g(document.body):O,H=S({"no-mask":!c,[`${N}-rtl`]:M==="rtl"},o,Q,U);{const K=Fe("Drawer");[["visible","open"],["afterVisibleChange","afterOpenChange"],["headerStyle","styles.header"],["bodyStyle","styles.body"],["footerStyle","styles.footer"],["contentWrapperStyle","styles.wrapper"],["maskStyle","styles.mask"],["drawerStyle","styles.content"]].forEach(oe=>{let[X,A]=oe;K.deprecated(!(X in e),X,A)}),W!==void 0&&((t=e.style)===null||t===void 0?void 0:t.position)==="absolute"&&K(!1,"breaking","`style` is replaced by `rootStyle` in v5. Please check that `position: absolute` is necessary.")}const T=a.useMemo(()=>n??(l==="large"?736:378),[n,l]),ee=a.useMemo(()=>r??(l==="large"?736:378),[r,l]),te={motionName:ye(N,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},V=K=>({motionName:ye(N,`panel-motion-${K}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),ae=Ye(),[ne,h]=Ue("Drawer",p.zIndex),{classNames:_={},styles:$={}}=p,{classNames:z={},styles:L={}}=k||{};return j(a.createElement(Ve,{form:!0,space:!0},a.createElement(Xe.Provider,{value:h},a.createElement(Ne,Object.assign({prefixCls:N,onClose:w,maskMotion:te,motion:V},p,{classNames:{mask:S(_.mask,z.mask),content:S(_.content,z.content),wrapper:S(_.wrapper,z.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},$.mask),D),L.mask),content:Object.assign(Object.assign(Object.assign({},$.content),P),L.content),wrapper:Object.assign(Object.assign(Object.assign({},$.wrapper),I),L.wrapper)},open:v??s,mask:c,push:d,width:T,height:ee,style:Object.assign(Object.assign({},k==null?void 0:k.style),i),className:S(k==null?void 0:k.className,m),rootClassName:H,getContainer:W,afterOpenChange:y??E,panelRef:ae,zIndex:ne}),a.createElement(Oe,Object.assign({prefixCls:N},p,{onClose:w}))))))},st=e=>{const{prefixCls:t,style:o,className:n,placement:r="right"}=e,l=Pe(e,["prefixCls","style","className","placement"]),{getPrefixCls:c}=a.useContext(me),d=c("drawer",t),[v,y,w]=De(d),b=S(d,`${d}-pure`,`${d}-${r}`,y,w,n);return v(a.createElement("div",{className:b,style:o},a.createElement(Oe,Object.assign({prefixCls:d},l))))};je._InternalPanelDoNotUseOrYouWillBeFired=st;je.displayName="Drawer";export{je as D};
