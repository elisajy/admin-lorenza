import{a as r,X as N,b1 as Ae,B as Q,b2 as ue,Q as p,b3 as X,v as Le,x as ze,ag as We,aA as G,b4 as De,b5 as fe,C as D,e as U,ae as de,b6 as me,c as T,H as He,J as Ve,L as _e,b7 as qe,M as W,b as Qe,b8 as Xe,b9 as Ge,a_ as Ue,u as ee,ba as Ce,bb as Ze,bc as Ye,bd as Je,be as Ke,af as en,bf as nn,bg as tn,bh as on,bi as ln,bj as ge,bk as sn,b0 as rn,bl as an}from"./index-CPbxhxza.js";import{S as cn}from"./Skeleton-B1X6PIwQ.js";import{w as un}from"./useForceUpdate-CLQGaRN1.js";function fn(){const[e,t]=r.useState([]),l=r.useCallback(n=>(t(o=>[].concat(N(o),[n])),()=>{t(o=>o.filter(a=>a!==n))}),[]);return[e,l]}function _(e){return!!(e!=null&&e.then)}const be=e=>{const{type:t,children:l,prefixCls:n,buttonProps:o,close:a,autoFocus:m,emitEvent:f,isSilent:c,quitOnNullishReturnValue:i,actionFn:s}=e,u=r.useRef(!1),g=r.useRef(null),[v,O]=Ae(!1),d=function(){a==null||a.apply(void 0,arguments)};r.useEffect(()=>{let C=null;return m&&(C=setTimeout(()=>{var y;(y=g.current)===null||y===void 0||y.focus({preventScroll:!0})})),()=>{C&&clearTimeout(C)}},[]);const x=C=>{_(C)&&(O(!0),C.then(function(){O(!1,!0),d.apply(void 0,arguments),u.current=!1},y=>{if(O(!1,!0),u.current=!1,!(c!=null&&c()))return Promise.reject(y)}))},b=C=>{if(u.current)return;if(u.current=!0,!s){d();return}let y;if(f){if(y=s(C),i&&!_(y)){u.current=!1,d(C);return}}else if(s.length)y=s(a),u.current=!1;else if(y=s(),!_(y)){d();return}x(y)};return r.createElement(Q,Object.assign({},ue(t),{onClick:b,loading:v,prefixCls:n},o,{ref:g}),l)},F=p.createContext({}),{Provider:ve}=F,ne=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:l,isSilent:n,mergedOkCancel:o,rootPrefixCls:a,close:m,onCancel:f,onConfirm:c}=r.useContext(F);return o?p.createElement(be,{isSilent:n,actionFn:f,close:function(){m==null||m.apply(void 0,arguments),c==null||c(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${a}-btn`},l):null},te=()=>{const{autoFocusButton:e,close:t,isSilent:l,okButtonProps:n,rootPrefixCls:o,okTextLocale:a,okType:m,onConfirm:f,onOk:c}=r.useContext(F);return p.createElement(be,{isSilent:l,type:m||"primary",actionFn:c,close:function(){t==null||t.apply(void 0,arguments),f==null||f(!0)},autoFocus:e==="ok",buttonProps:n,prefixCls:`${o}-btn`},a)};function oe(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function le(e){const{closable:t,closeIcon:l}=e||{};return p.useMemo(()=>{if(!t&&(t===!1||l===!1||l===null))return!1;if(t===void 0&&l===void 0)return null;let n={closeIcon:typeof l!="boolean"&&l!==null?l:void 0};return t&&typeof t=="object"&&(n=Object.assign(Object.assign({},n),t)),n},[t,l])}function se(){const e={};for(var t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return l.forEach(o=>{o&&Object.keys(o).forEach(a=>{o[a]!==void 0&&(e[a]=o[a])})}),e}const dn={};function mn(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dn;const n=le(e),o=le(t),a=typeof n!="boolean"?!!(n!=null&&n.disabled):!1,m=p.useMemo(()=>Object.assign({closeIcon:p.createElement(X,null)},l),[l]),f=p.useMemo(()=>n===!1?!1:n?se(m,o,n):o===!1?!1:o?se(m,o):m.closable?m:!1,[n,o,m]);return p.useMemo(()=>{if(f===!1)return[!1,null,a];const{closeIconRender:c}=m,{closeIcon:i}=f;let s=i;if(s!=null){c&&(s=c(i));const u=Le(f,!0);Object.keys(u).length&&(s=p.isValidElement(s)?p.cloneElement(s,u):p.createElement("span",Object.assign({},u),s))}return[!0,s,a]},[f,m])}const Cn=()=>ze()&&window.document.documentElement;function re(){}const gn=r.createContext({add:re,remove:re});function bn(e){const t=r.useContext(gn),l=r.useRef();return We(o=>{if(o){const a=e?o.querySelector(e):o;t.add(a),l.current=a}else t.remove(l.current)})}const ae=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:l}=r.useContext(F);return p.createElement(Q,Object.assign({onClick:l},e),t)},ce=()=>{const{confirmLoading:e,okButtonProps:t,okType:l,okTextLocale:n,onOk:o}=r.useContext(F);return p.createElement(Q,Object.assign({},ue(l),{loading:e,onClick:o},t),n)};function pe(e,t){return p.createElement("span",{className:`${e}-close-x`},t||p.createElement(X,{className:`${e}-close-icon`}))}const xe=e=>{const{okText:t,okType:l="primary",cancelText:n,confirmLoading:o,onOk:a,onCancel:m,okButtonProps:f,cancelButtonProps:c,footer:i}=e,[s]=G("Modal",fe()),u=t||(s==null?void 0:s.okText),g=n||(s==null?void 0:s.cancelText),v={confirmLoading:o,okButtonProps:f,cancelButtonProps:c,okTextLocale:u,cancelTextLocale:g,okType:l,onOk:a,onCancel:m},O=p.useMemo(()=>v,N(Object.values(v)));let d;return typeof i=="function"||typeof i>"u"?(d=p.createElement(p.Fragment,null,p.createElement(ae,null),p.createElement(ce,null)),typeof i=="function"&&(d=i(d,{OkBtn:ce,CancelBtn:ae})),d=p.createElement(ve,{value:O},d)):d=i,p.createElement(De,{disabled:!1},d)};var vn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};let q;const pn=e=>{q={x:e.pageX,y:e.pageY},setTimeout(()=>{q=null},100)};Cn()&&document.documentElement.addEventListener("click",pn,!0);const ye=e=>{var t;const{getPopupContainer:l,getPrefixCls:n,direction:o,modal:a}=r.useContext(D),m=k=>{const{onCancel:w}=e;w==null||w(k)},f=k=>{const{onOk:w}=e;w==null||w(k)};{const k=U("Modal");[["visible","open"],["bodyStyle","styles.body"],["maskStyle","styles.mask"]].forEach(w=>{let[K,Be]=w;k.deprecated(!(K in e),K,Be)})}const{prefixCls:c,className:i,rootClassName:s,open:u,wrapClassName:g,centered:v,getContainer:O,focusTriggerAfterClose:d=!0,style:x,visible:b,width:C=520,footer:y,classNames:h,styles:P,children:S,loading:I}=e,j=vn(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),E=n("modal",c),R=n(),A=de(E),[H,L,z]=me(E,A),V=T(g,{[`${E}-centered`]:!!v,[`${E}-wrap-rtl`]:o==="rtl"}),Se=y!==null&&!I?r.createElement(xe,Object.assign({},e,{onOk:f,onCancel:m})):null,[Y,J,ke]=mn(oe(e),oe(a),{closable:!0,closeIcon:r.createElement(X,{className:`${E}-close-icon`}),closeIconRender:k=>pe(E,k)}),Me=bn(`.${E}-content`),[Re,Fe]=He("Modal",j.zIndex);return H(r.createElement(Ve,{form:!0,space:!0},r.createElement(_e.Provider,{value:Fe},r.createElement(qe,Object.assign({width:C},j,{zIndex:Re,getContainer:O===void 0?l:O,prefixCls:E,rootClassName:T(L,s,z,A),footer:Se,visible:u??b,mousePosition:(t=j.mousePosition)!==null&&t!==void 0?t:q,onClose:m,closable:Y&&{disabled:ke,closeIcon:J},closeIcon:J,focusTriggerAfterClose:d,transitionName:W(R,"zoom",e.transitionName),maskTransitionName:W(R,"fade",e.maskTransitionName),className:T(L,i,a==null?void 0:a.className),style:Object.assign(Object.assign({},a==null?void 0:a.style),x),classNames:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.classNames),h),{wrapper:T(V,h==null?void 0:h.wrapper)}),styles:Object.assign(Object.assign({},a==null?void 0:a.styles),P),panelRef:Me}),I?r.createElement(cn,{active:!0,title:!1,paragraph:{rows:4},className:`${E}-body-skeleton`}):S))))},xn=e=>{const{componentCls:t,titleFontSize:l,titleLineHeight:n,modalConfirmIconSize:o,fontSize:a,lineHeight:m,modalTitleHeight:f,fontHeight:c,confirmBodyPadding:i}=e,s=`${t}-confirm`;return{[s]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${s}-body-wrapper`]:Object.assign({},Ue()),[`&${t} ${t}-body`]:{padding:i},[`${s}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(f).sub(o).equal()).div(2).equal()}},[`${s}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${ee(e.marginSM)})`},[`${e.iconCls} + ${s}-paragraph`]:{maxWidth:`calc(100% - ${ee(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${s}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:l,lineHeight:n},[`${s}-content`]:{color:e.colorText,fontSize:a,lineHeight:m},[`${s}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${s}-error ${s}-body > ${e.iconCls}`]:{color:e.colorError},[`${s}-warning ${s}-body > ${e.iconCls},
        ${s}-confirm ${s}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${s}-info ${s}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${s}-success ${s}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},yn=Qe(["Modal","confirm"],e=>{const t=Xe(e);return[xn(t)]},Ge,{order:-1e3});var On=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};function Oe(e){const{prefixCls:t,icon:l,okText:n,cancelText:o,confirmPrefixCls:a,type:m,okCancel:f,footer:c,locale:i}=e,s=On(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);U("Modal")(!(typeof l=="string"&&l.length>2),"breaking",`\`icon\` is using ReactNode instead of string naming in v4. Please check \`${l}\` at https://ant.design/components/icon`);let u=l;if(!l&&l!==null)switch(m){case"info":u=r.createElement(Ke,null);break;case"success":u=r.createElement(Je,null);break;case"error":u=r.createElement(Ye,null);break;default:u=r.createElement(Ze,null)}const g=f??m==="confirm",v=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[O]=G("Modal"),d=i||O,x=n||(g?d==null?void 0:d.okText:d==null?void 0:d.justOkText),b=o||(d==null?void 0:d.cancelText),C=Object.assign({autoFocusButton:v,cancelTextLocale:b,okTextLocale:x,mergedOkCancel:g},s),y=r.useMemo(()=>C,N(Object.values(C))),h=r.createElement(r.Fragment,null,r.createElement(ne,null),r.createElement(te,null)),P=e.title!==void 0&&e.title!==null,S=`${a}-body`;return r.createElement("div",{className:`${a}-body-wrapper`},r.createElement("div",{className:T(S,{[`${S}-has-title`]:P})},u,r.createElement("div",{className:`${a}-paragraph`},P&&r.createElement("span",{className:`${a}-title`},e.title),r.createElement("div",{className:`${a}-content`},e.content))),c===void 0||typeof c=="function"?r.createElement(ve,{value:y},r.createElement("div",{className:`${a}-btns`},typeof c=="function"?c(h,{OkBtn:te,CancelBtn:ne}):h)):c,r.createElement(yn,{prefixCls:t}))}const he=e=>{const{close:t,zIndex:l,afterClose:n,open:o,keyboard:a,centered:m,getContainer:f,maskStyle:c,direction:i,prefixCls:s,wrapClassName:u,rootPrefixCls:g,bodyStyle:v,closable:O=!1,closeIcon:d,modalRender:x,focusTriggerAfterClose:b,onConfirm:C,styles:y}=e;{const H=U("Modal");[["visible","open"],["bodyStyle","styles.body"],["maskStyle","styles.mask"]].forEach(L=>{let[z,V]=L;H.deprecated(!(z in e),z,V)})}const h=`${s}-confirm`,P=e.width||416,S=e.style||{},I=e.mask===void 0?!0:e.mask,j=e.maskClosable===void 0?!1:e.maskClosable,E=T(h,`${h}-${e.type}`,{[`${h}-rtl`]:i==="rtl"},e.className),[,R]=en(),A=r.useMemo(()=>l!==void 0?l:R.zIndexPopupBase+nn,[l,R]);return r.createElement(ye,{prefixCls:s,className:E,wrapClassName:T({[`${h}-centered`]:!!e.centered},u),onCancel:()=>{t==null||t({triggerCancel:!0}),C==null||C(!1)},open:o,title:"",footer:null,transitionName:W(g||"","zoom",e.transitionName),maskTransitionName:W(g||"","fade",e.maskTransitionName),mask:I,maskClosable:j,style:S,styles:Object.assign({body:v,mask:c},y),width:P,zIndex:A,afterClose:n,keyboard:a,centered:m,getContainer:f,closable:O,closeIcon:d,modalRender:x,focusTriggerAfterClose:b},r.createElement(Oe,Object.assign({},e,{confirmPrefixCls:h})))},Z=e=>{const{rootPrefixCls:t,iconPrefixCls:l,direction:n,theme:o}=e;return r.createElement(Ce,{prefixCls:t,iconPrefixCls:l,direction:n,theme:o},r.createElement(he,Object.assign({},e)))};he.displayName="ConfirmDialog",Z.displayName="ConfirmDialogWrapper";const M=[];let Pe="";function Ee(){return Pe}const hn=e=>{var t,l;const{prefixCls:n,getContainer:o,direction:a}=e,m=fe(),f=r.useContext(D),c=Ee()||f.getPrefixCls(),i=n||`${c}-modal`;let s=o;return s===!1&&(s=void 0,ge(!1,"Modal","Static method not support `getContainer` to be `false` since it do not have context env.")),p.createElement(Z,Object.assign({},e,{rootPrefixCls:c,prefixCls:i,iconPrefixCls:f.iconPrefixCls,theme:f.theme,direction:a??f.direction,locale:(l=(t=f.locale)===null||t===void 0?void 0:t.Modal)!==null&&l!==void 0?l:m,getContainer:s}))};function B(e){const t=sn();t.holderRender||tn("Modal");const l=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:f,open:!0}),o;function a(){for(var i,s=arguments.length,u=new Array(s),g=0;g<s;g++)u[g]=arguments[g];if(u.some(d=>d==null?void 0:d.triggerCancel)){var O;(i=e.onCancel)===null||i===void 0||(O=i).call.apply(O,[e,()=>{}].concat(N(u.slice(1))))}for(let d=0;d<M.length;d++)if(M[d]===f){M.splice(d,1);break}on(l)}function m(i){clearTimeout(o),o=setTimeout(()=>{const s=t.getPrefixCls(void 0,Ee()),u=t.getIconPrefixCls(),g=t.getTheme(),v=p.createElement(hn,Object.assign({},i));ln(p.createElement(Ce,{prefixCls:s,iconPrefixCls:u,theme:g},t.holderRender?t.holderRender(v):v),l)})}function f(){for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),a.apply(this,s)}}),n.visible&&delete n.visible,m(n)}function c(i){typeof i=="function"?n=i(n):n=Object.assign(Object.assign({},n),i),m(n)}return m(n),M.push(f),{destroy:f,update:c}}function $e(e){return Object.assign(Object.assign({},e),{type:"warning"})}function je(e){return Object.assign(Object.assign({},e),{type:"info"})}function we(e){return Object.assign(Object.assign({},e),{type:"success"})}function Ie(e){return Object.assign(Object.assign({},e),{type:"error"})}function Te(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Pn(e){let{rootPrefixCls:t}=e;ge(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),Pe=t}var En=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const $n=(e,t)=>{var l,{afterClose:n,config:o}=e,a=En(e,["afterClose","config"]);const[m,f]=r.useState(!0),[c,i]=r.useState(o),{direction:s,getPrefixCls:u}=r.useContext(D),g=u("modal"),v=u(),O=()=>{var C;n(),(C=c.afterClose)===null||C===void 0||C.call(c)},d=function(){var C;f(!1);for(var y=arguments.length,h=new Array(y),P=0;P<y;P++)h[P]=arguments[P];if(h.some(j=>j==null?void 0:j.triggerCancel)){var I;(C=c.onCancel)===null||C===void 0||(I=C).call.apply(I,[c,()=>{}].concat(N(h.slice(1))))}};r.useImperativeHandle(t,()=>({destroy:d,update:C=>{i(y=>Object.assign(Object.assign({},y),C))}}));const x=(l=c.okCancel)!==null&&l!==void 0?l:c.type==="confirm",[b]=G("Modal",rn.Modal);return r.createElement(Z,Object.assign({prefixCls:g,rootPrefixCls:v},c,{close:d,open:m,afterClose:O,okText:c.okText||(x?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:c.direction||s,cancelText:c.cancelText||(b==null?void 0:b.cancelText)},a))},jn=r.forwardRef($n);let ie=0;const wn=r.memo(r.forwardRef((e,t)=>{const[l,n]=fn();return r.useImperativeHandle(t,()=>({patchElement:n}),[]),r.createElement(r.Fragment,null,l)}));function In(){const e=r.useRef(null),[t,l]=r.useState([]);r.useEffect(()=>{t.length&&(N(t).forEach(m=>{m()}),l([]))},[t]);const n=r.useCallback(a=>function(f){var c;ie+=1;const i=r.createRef();let s;const u=new Promise(x=>{s=x});let g=!1,v;const O=r.createElement(jn,{key:`modal-${ie}`,config:a(f),ref:i,afterClose:()=>{v==null||v()},isSilent:()=>g,onConfirm:x=>{s(x)}});return v=(c=e.current)===null||c===void 0?void 0:c.patchElement(O),v&&M.push(v),{destroy:()=>{function x(){var b;(b=i.current)===null||b===void 0||b.destroy()}i.current?x():l(b=>[].concat(N(b),[x]))},update:x=>{function b(){var C;(C=i.current)===null||C===void 0||C.update(x)}i.current?b():l(C=>[].concat(N(C),[b]))},then:x=>(g=!0,u.then(x))}},[]);return[r.useMemo(()=>({info:n(je),success:n(we),error:n(Ie),warning:n($e),confirm:n(Te)}),[]),r.createElement(wn,{key:"modal-holder",ref:e})]}var Tn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const Nn=e=>{const{prefixCls:t,className:l,closeIcon:n,closable:o,type:a,title:m,children:f,footer:c}=e,i=Tn(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:s}=r.useContext(D),u=s(),g=t||s("modal"),v=de(u),[O,d,x]=me(g,v),b=`${g}-confirm`;let C={};return a?C={closable:o??!1,title:"",footer:"",children:r.createElement(Oe,Object.assign({},e,{prefixCls:g,confirmPrefixCls:b,rootPrefixCls:u,content:f}))}:C={closable:o??!0,title:m,footer:c!==null&&r.createElement(xe,Object.assign({},e)),children:f},O(r.createElement(an,Object.assign({prefixCls:g,className:T(d,`${g}-pure-panel`,a&&b,a&&`${b}-${a}`,l,x,v)},i,{closeIcon:pe(g,n),closable:o},C)))},Sn=un(Nn);function Ne(e){return B($e(e))}const $=ye;$.useModal=In;$.info=function(t){return B(je(t))};$.success=function(t){return B(we(t))};$.error=function(t){return B(Ie(t))};$.warning=Ne;$.warn=Ne;$.confirm=function(t){return B(Te(t))};$.destroyAll=function(){for(;M.length;){const t=M.pop();t&&t()}};$.config=Pn;$._InternalPanelDoNotUseOrYouWillBeFired=Sn;$.displayName="Modal";export{$ as M,bn as a,oe as p,mn as u};
